(window.$WP=window.$WP||[]).push({id:"@ta/overlays.pieces",d:["vendor-react-libs","ta-platform","vendor-babel"],e:["./packages/overlays/pieces/pieces.jsx"],x:{"./packages/overlays/pieces/pieces.jsx":["CloseX","ShadowBox","Overlay","Target","Backdrop","BlockScroll","OverlayProvider","OverlayConsumer","Arrow","ArrowSize","SmallArrowSize"]},m:{"./packages/overlays/pieces/pieces.jsx":function(e,t,o){"use strict";o.r(t);var r=o("react"),i=o("@ta/common.classnames"),n=o.n(i),s=function e(t){switch(t){case"SEAT_GURU_BLUE":return"overlays-pieces-CloseX__seatGuruBlue--3grtC";case"WHITE":return"overlays-pieces-CloseX__inverted--2vrVh";case"TA_GREEN_DARK":return"overlays-pieces-CloseX__taGreenDark--NJAlr";case"TA_GREEN":default:return""}},a=function e(t){return r.createElement("div",{className:n()("overlays-pieces-CloseX__close--7erra",s(t.colorVariant)),onClick:t.close,"data-test-attribute":t.testAttribute})};a.defaultProps={colorVariant:"TA_GREEN",testAttribute:null};var l=a,p=function e(t){var o=t.inverted,i=t.children;return r.createElement("div",{className:"".concat("overlays-pieces-ShadowBox__shadowBox--11cLX").concat(o?" ".concat("overlays-pieces-ShadowBox__inverted--xz5qG"):"")},i)};p.defaultProps={inverted:!1};var c=p,u=o("@babel/runtime/helpers/esm/extends"),d=o.n(u),y=o("@babel/runtime/helpers/esm/classCallCheck"),v=o.n(y),h=o("@babel/runtime/helpers/esm/createClass"),m=o.n(h),f=o("@babel/runtime/helpers/esm/possibleConstructorReturn"),g=o.n(f),b=o("@babel/runtime/helpers/esm/getPrototypeOf"),w=o.n(b),_=o("@babel/runtime/helpers/esm/inherits"),x=o.n(_),B=o("@babel/runtime/helpers/esm/assertThisInitialized"),S=o.n(B),T=o("@babel/runtime/helpers/esm/defineProperty"),N=o.n(T),k=o("react-dom"),O=o.n(k),P=r.createContext({parent:null,after:null,transitionStatus:"entered"}),A=P.Provider,E=P.Consumer,C=function(e){function t(e){var o;if(v()(this,t),o=g()(this,w()(t).call(this,e)),N()(S()(S()(o)),"overlayNode",void 0),N()(S()(S()(o)),"parentBody",void 0),N()(S()(S()(o)),"stylePositionBeforeOpening",void 0),N()(S()(S()(o)),"positionWasSet",void 0),document&&(o.parentBody=document.body,o.overlayNode=document.createElement("div"),o.props.id&&(o.overlayNode.id=o.props.id),e.perspective&&(o.overlayNode.style.perspective=e.perspective),o.positionWasSet=!1,o.setAnimatableStyles(),o.parentBody)){o.parentBody.style.position||(o.positionWasSet=!0,o.stylePositionBeforeOpening=o.parentBody.style.position,o.parentBody.style.position="relative");var r=o.props.after?document.getElementById(o.props.after):null,i=r?r.nextSibling:null;o.parentBody.insertBefore(o.overlayNode,i)}return o}return x()(t,e),m()(t,[{key:"componentWillUnmount",value:function e(){this.parentBody&&(this.positionWasSet&&"relative"===this.parentBody.style.position&&(this.parentBody.style.position=this.stylePositionBeforeOpening),this.parentBody.removeChild(this.overlayNode))}},{key:"setAnimatableStyles",value:function e(){var t=this;if(this.overlayNode&&this.parentBody){if(this.props.transitionProperties){var o=[];this.props.transitionProperties.forEach(function(e){var t=e.timingFunction?" ".concat(e.timingFunction):"",r=e.delay?" ".concat(e.delay,"ms"):"";o.push("".concat(e.property," ").concat(e.timing,"ms").concat(t).concat(r))}),o.length>0?this.overlayNode.style.transition=o.join(", "):this.overlayNode.style.transition=""}var r=[],i=this.props.position.position||"absolute";this.overlayNode.style.position=i;var n=this.parentBody.getBoundingClientRect(),s=window||{},a=s.pageXOffset,l=void 0===a?0:a,p=s.pageYOffset,c=void 0===p?0:p,u=n.top+c,d=n.left+l;["top","left","bottom","right"].forEach(function(e){var o=t.props.position[e];o?(t.overlayNode.style.setProperty(e,o),"absolute"===i&&("top"!==e&&"bottom"!==e||0===u?"left"!==e&&"right"!==e||0===d||r.push("translateX(".concat(-d,"px)")):r.push("translateY(".concat(-u,"px)")))):t.overlayNode.style.setProperty(e,"auto")}),this.props.position.zIndex&&this.overlayNode.style.setProperty("z-index",this.props.position.zIndex),this.props.position.transformOrigin&&(this.overlayNode.style.transformOrigin=this.props.position.transformOrigin),this.props.position.transform&&r.push(this.props.position.transform),this.overlayNode.style.transform=r.join(" "),this.props.position.maxHeight&&(this.overlayNode.style.maxHeight=this.props.position.maxHeight,this.overlayNode.style.overflowY="hidden"),this.props.position.height&&(this.overlayNode.style.height=this.props.position.height),this.props.position.width&&(this.overlayNode.style.width=this.props.position.width),void 0!==this.props.opacity&&(this.overlayNode.style.opacity=this.props.opacity)}}},{key:"render",value:function e(){var t;return this.overlayNode&&this.parentBody?(this.overlayNode.className=n()("overlays-pieces-Overlay__overlay--1Lqh_",(t={},N()(t,"overlays-pieces-Overlay__background--3zny0","background"===this.props.overlayType),N()(t,"overlays-pieces-Overlay__tooltip--2z4uZ","tooltip"===this.props.overlayType),N()(t,"overlays-pieces-Overlay__popover--1iKup","popover"===this.props.overlayType),t)),this.setAnimatableStyles(),O.a.createPortal(this.props.children,this.overlayNode)):null}}]),t}(r.Component);N()(C,"defaultProps",{id:null,after:null,perspective:void 0,overlayType:"modal"});var W=function e(t){return r.createElement(E,null,function(e){var o=e.parent,i=e.after;return r.createElement(C,d()({},t,{id:o?"c_".concat(o):null,after:i?"c_".concat(i):null,overlayType:t.overlayType}))})};W.defaultProps={id:null,after:null,perspective:void 0,opacity:void 0,transitionProperties:[],overlayType:"modal"};var z=W,F=function(e){function t(){var e,o;v()(this,t);for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return o=g()(this,(e=w()(t)).call.apply(e,[this].concat(i))),N()(S()(S()(o)),"state",{target:null}),N()(S()(S()(o)),"setTarget",function(e){o.renderTimeTarget=e}),N()(S()(S()(o)),"renderTimeTarget",null),o}return x()(t,e),m()(t,[{key:"componentDidMount",value:function e(){this.setState({target:this.renderTimeTarget})}},{key:"render",value:function e(){return this.props.children(this.setTarget,this.state.target)}}]),t}(r.Component),Y=function e(t){var o=t.offsetTop?"absolute":"fixed";return r.createElement(z,{position:{position:o,top:"".concat(t.offsetTop||0,"px"),right:"0px",bottom:"0px",left:"0px"}},r.createElement("div",{className:"overlays-pieces-Backdrop__backdrop--1wv3p",onClick:function e(o){o.currentTarget===o.target&&t.close()}},t.children))};Y.defaultProps={offsetTop:0};var H=Y,D=o("react-redux"),X=function(e){function t(){var e,o;v()(this,t);for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return o=g()(this,(e=w()(t)).call.apply(e,[this].concat(i))),N()(S()(S()(o)),"bugFix",function(e,r,i){1===t.currentlyMounted&&(t.originalScrollY=window.scrollY,t.originalPosition=e.position||"static",t.originalTop=e.top||"0px",t.originalWidth=e.width,t.originalDocumentHeight=r.height),e.position="fixed",t.originalScrollY&&(e.top="".concat(-1*t.originalScrollY,"px")),e.width="100%",r.height="100vh",i.contains("overlayiOS11bug")||i.add("overlayiOS11bug"),o.props.callback&&o.props.callback()}),N()(S()(S()(o)),"timeout",void 0),o}return x()(t,e),m()(t,[{key:"componentDidMount",value:function e(){var o=this;if(t.currentlyMounted+=1,document&&document.body&&document.body.style&&document.documentElement&&document.documentElement.style){var r=document.body.style,i=document.documentElement.style,n=document.body.classList;r.overflow="hidden",this.props.iOS11BugFix?null!=this.props.deferBugFix?this.timeout=setTimeout(function(){o.bugFix(r,i,n)},this.props.deferBugFix):this.bugFix(r,i,n):this.props.callback&&this.props.callback()}}},{key:"componentWillUnmount",value:function e(){if(t.currentlyMounted-=1,0===t.currentlyMounted&&document&&document.body&&document.body.style&&document.documentElement&&document.documentElement.style){this.timeout&&clearTimeout(this.timeout);var o=document.documentElement.style,r=document.body.style;r.overflow="auto",this.props.iOS11BugFix&&(t.originalPosition&&(r.position=t.originalPosition),t.originalScrollY&&window.scrollTo(0,t.originalScrollY),null!=t.originalTop&&(r.top=t.originalTop),t.originalWidth&&(r.width=t.originalWidth),(t.originalDocumentHeight||""===t.originalDocumentHeight)&&(o.height=t.originalDocumentHeight)),this.props.callback&&this.props.callback()}}},{key:"render",value:function e(){return null}}]),t}(r.Component);N()(X,"defaultProps",{callback:void 0}),N()(X,"currentlyMounted",0),N()(X,"originalScrollY",void 0),N()(X,"originalPosition",void 0),N()(X,"originalTop",void 0),N()(X,"originalWidth",void 0),N()(X,"originalDocumentHeight",void 0);var R=Object(D.connect)(function(e,t){var o=t.iOS11BugFix;return{iOS11BugFix:void 0===o?"IOS"===e.meta.device.os.family:o}})(X),j={arrow:"overlays-pieces-Arrow__arrow--3WvH9",inverted:"overlays-pieces-Arrow__inverted--1IwAy",small:"overlays-pieces-Arrow__small--2fdc3",top:"overlays-pieces-Arrow__top--2w_bU",bottom:"overlays-pieces-Arrow__bottom--11J3O",left:"overlays-pieces-Arrow__left--1bkev",right:"overlays-pieces-Arrow__right--1RWVK"},G=function e(t){var o,i=t.on,n=t.from,s=t.offset,a=t.small,l=t.inverted,p="center"===n?(o={},N()(o,"top"===i||"bottom"===i?"left":"top","50%"),N()(o,"transform","top"===i||"bottom"===i?"translate(-50%)":"translateY(-50%)"),o):N()({},n,"".concat(s,"px")),c=[j.arrow,j[i],a?j.small:null,l?j.inverted:null].filter(function(e){return e}).join(" ");return r.createElement("div",{className:c,style:p})};G.defaultProps={from:"center",offset:0,small:!1,inverted:!1};var I=G;o.d(t,"CloseX",function(){return l}),o.d(t,"ShadowBox",function(){return c}),o.d(t,"Overlay",function(){return z}),o.d(t,"Target",function(){return F}),o.d(t,"Backdrop",function(){return H}),o.d(t,"BlockScroll",function(){return R}),o.d(t,"OverlayProvider",function(){return A}),o.d(t,"OverlayConsumer",function(){return E}),o.d(t,"Arrow",function(){return I}),o.d(t,"ArrowSize",function(){return 12}),o.d(t,"SmallArrowSize",function(){return 7})}}});
//# sourceMappingURL=overlays.pieces.5c5bc13d36.js.map