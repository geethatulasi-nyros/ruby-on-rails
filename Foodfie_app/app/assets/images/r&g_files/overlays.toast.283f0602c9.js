(window.$WP=window.$WP||[]).push({id:"@ta/overlays.toast",d:["vendor-babel","vendor-react-libs","react-transition-group","ta-platform","@ta/overlays.pieces","ta-common"],e:["./packages/overlays/toast/toast.jsx"],x:{"./packages/overlays/toast/toast.jsx":["Toaster"]},m:{"./packages/overlays/toast/toast.jsx":function(t,e,a){"use strict";a.r(e);var o=a("@babel/runtime/helpers/esm/objectSpread"),s=a.n(o),r=a("@babel/runtime/helpers/esm/classCallCheck"),n=a.n(r),i=a("@babel/runtime/helpers/esm/createClass"),l=a.n(i),c=a("@babel/runtime/helpers/esm/possibleConstructorReturn"),m=a.n(c),u=a("@babel/runtime/helpers/esm/getPrototypeOf"),v=a.n(u),p=a("@babel/runtime/helpers/esm/inherits"),d=a.n(p),T=a("@babel/runtime/helpers/esm/assertThisInitialized"),h=a.n(T),f=a("@babel/runtime/helpers/esm/defineProperty"),_=a.n(f),y=a("react"),b=a("react-redux"),E=a("react-transition-group"),g=a("@ta/common.error-handling"),x=a("@ta/common.state"),I=a("@ta/overlays.pieces"),O=a("@ta/styleguide.icon"),j=function t(e){var a=e.toast;return y.createElement("div",{className:"overlays-toast-ToastItem__toast_wrap--1rDju"},y.createElement("div",{className:"overlays-toast-ToastItem__toast--ObFmm"},y.createElement("div",{className:"overlays-toast-ToastItem__toast_text--1Mk2G"},a.iconName&&y.createElement("div",{className:"overlays-toast-ToastItem__toast_icon--3Dgfn"},y.createElement(O.Icon,{name:a.iconName})),y.createElement("div",{className:"overlays-toast-ToastItem__node_wrap--3nvQo"},a.node)),a.cta&&y.createElement("div",{className:"overlays-toast-ToastItem__toast_action--3ZOL2"},a.cta)))},N=4e3,k=function(t){function e(t){var a;return n()(this,e),a=m()(this,v()(e).call(this,t)),_()(h()(h()(a)),"removalTimeouts",[]),_()(h()(h()(a)),"clearTimeouts",function(){a.removalTimeouts.forEach(function(t){return clearTimeout(t)}),a.removalTimeouts=[]}),_()(h()(h()(a)),"launchToast",function(t,e){var o=t.id?t.id:"toast_".concat(Math.random().toString(36).replace(/[^a-z]+/g,"")),r=s()({id:o},t);a.clearTimeouts(),a.setState({toasts:[{toast:r,wrapper:e}]}),a.removalTimeouts.push(setTimeout(function(){a.removeToast(o)},r.timeout||N)),Object(x.getStore)().dispatch(x.actions.overlays.launchExclusiveToast(o))}),_()(h()(h()(a)),"removeToast",function(t){a.setState({toasts:a.state.toasts.filter(function(e){return e.toast.id!==t})}),Object(x.getStore)().dispatch(x.actions.overlays.removeToast(t)),a.props.onToastRemoved&&a.props.onToastRemoved()}),a.state={toasts:[]},a}return d()(e,t),l()(e,[{key:"componentWillUnmount",value:function t(){this.clearTimeouts()}},{key:"render",value:function t(){var e=this;return y.createElement(y.Fragment,null,this.props.children(this.launchToast,this.removeToast),y.createElement(g.ErrorBoundary,null,y.createElement(E.TransitionGroup,{component:null,enter:!0,exit:!0},this.state.toasts.filter(function(t){return e.props.toasts.includes(t.toast.id)}).map(function(t){var e=t.toast,a=t.wrapper;return y.createElement(E.CSSTransition,{timeout:300,key:e.id,classNames:{enter:"overlays-toast-Toaster__fadeInEnter--3Lm2-",enterActive:"overlays-toast-Toaster__fadeInEnterActive--3Gfp0",enterDone:"overlays-toast-Toaster__fadeInEnterDone--1sv4e",exit:"overlays-toast-Toaster__fadeOutExit--3iK4m",exitActive:"overlays-toast-Toaster__fadeOutExitActive--K5YMm",exitDone:"overlays-toast-Toaster__fadeOutExitDone--3TRsj"}},y.createElement(I.Overlay,{perspective:"300px",position:{position:"fixed",bottom:"0",left:"0",right:"0",height:"auto"}},a?a(y.createElement(j,{toast:e})):y.createElement(j,{toast:e})))}))))}}]),e}(y.Component);_()(k,"defaultProps",{onToastRemoved:void 0});var w=Object(b.connect)(function(t){return{toasts:t.overlays.toasts}})(k);a.d(e,"Toaster",function(){return w})}}});
//# sourceMappingURL=overlays.toast.283f0602c9.js.map