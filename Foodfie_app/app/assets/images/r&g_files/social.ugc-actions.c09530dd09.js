(window.$WP=window.$WP||[]).push({id:"@ta/social.ugc-actions",d:["vendor-react-libs","vendor-babel","ta-platform","react-transition-group","@ta/social.login-gate","@ta/tracking.interactions","@ta/overlays.pieces","ta-common"],e:["./packages/social/ugc-actions/index.jsx"],x:{"./packages/social/ugc-actions/Backdrop.jsx":["a"],"./packages/social/ugc-actions/SocialActionButton.jsx":["a"],"./packages/social/ugc-actions/UploaderActionButton.jsx":["a"],"./packages/social/ugc-actions/UploaderActionButton.less":["a"],"./packages/social/ugc-actions/index.jsx":["SocialFab","ugcActionMapper","LoginPID"]},m:{"./node_modules/webpack/buildin/global.js":function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},"./packages/social/ugc-actions/Backdrop.jsx":function(e,t,n){"use strict";var o=n("react"),i=function e(t){return o.createElement("div",{className:"social-ugc-actions-Backdrop__backdrop--3colg",onClick:t.onClick})};i.defaultProps={onClick:void 0},t.a=i},"./packages/social/ugc-actions/SocialActionButton.jsx":function(e,t,n){"use strict";var o=n("@babel/runtime/helpers/esm/defineProperty"),i=n.n(o),a=n("react"),c=n("@ta/common.classnames"),r=n.n(c),s=n("@ta/styleguide.icon"),l=function e(t){var n=t.icon,o=t.className,c=t.onClick,l=t.invert;return a.createElement("span",{className:r()("social-ugc-actions-SocialActionButton__action_button--3fJPk",o,i()({},"social-ugc-actions-SocialActionButton__invert--N_kIO",l)),onClick:c},a.createElement(s.Icon,{name:n}))};l.defaultProps={className:void 0,onClick:void 0,invert:!1},t.a=l},"./packages/social/ugc-actions/UploaderActionButton.jsx":function(e,t,n){"use strict";(function(e){var o=n("@babel/runtime/helpers/esm/objectWithoutProperties"),i=n.n(o),a=n("@babel/runtime/helpers/esm/classCallCheck"),c=n.n(a),r=n("@babel/runtime/helpers/esm/createClass"),s=n.n(r),l=n("@babel/runtime/helpers/esm/possibleConstructorReturn"),u=n.n(l),p=n("@babel/runtime/helpers/esm/getPrototypeOf"),m=n.n(p),d=n("@babel/runtime/helpers/esm/inherits"),g=n.n(d),b=n("@babel/runtime/helpers/esm/assertThisInitialized"),h=n.n(b),v=n("@babel/runtime/helpers/esm/defineProperty"),f=n.n(v),k=n("react"),w=n("react-redux"),_=n("react-transition-group"),C=n("@ta/common.state"),y=n("@ta/common.routing"),E=n("@ta/common.classnames"),x=n.n(E),A=n("@ta/common.tracking"),B=n.n(A),j=n("@ta/social.login-gate"),S=n("@ta/tracking.interactions"),O=n("@ta/overlays.pieces"),P=n("./packages/social/ugc-actions/Backdrop.jsx"),N=n("./packages/social/ugc-actions/SocialActionButton.jsx"),I=n("./packages/social/ugc-actions/UploaderActionButton.less"),F={enter:I.a.enter,enterActive:I.a.enter_active,exit:I.a.exit,exitActive:I.a.exit_active},U=function(t){function n(){var e,t;c()(this,n);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return t=u()(this,(e=m()(n)).call.apply(e,[this].concat(i))),f()(h()(h()(t)),"state",{show:!1}),f()(h()(h()(t)),"onClick",function(e){t.props.onClick&&t.props.onClick(e),t.toggle()}),f()(h()(h()(t)),"toggle",function(e){t.setState(function(t){return{show:null!=e?e:!t.show}},function(){t.props.onChange&&t.props.onChange(t.state.show)})}),t}return g()(n,t),s()(n,[{key:"render",value:function t(){var n=this,o=this.props,a=o.className,c=o.style,r=o.showGlobalOverlay,s=o.page,l=o.isMember,u=this.props.actions.slice(0,10),p=this.state.show,m=300+30*u.length+50;return u.length>0&&k.createElement(k.Fragment,null,u.map(function(e){return e.overlay?k.createElement(k.Fragment,{key:e.name},e.overlay()):null}),this.state.show&&k.createElement(k.Fragment,null,k.createElement(P.a,{onClick:function e(){n.toggle(!1)}}),k.createElement(O.BlockScroll,{iOS11BugFix:!1})),k.createElement(j.SocialLoginGate,null,function(t){return k.createElement("div",{className:x()(I.a.upload_container,a),style:c},k.createElement(S.InteractionLogger,null,function(e){return k.createElement(N.a,{invert:p,className:x()(I.a.primary_button,f()({},I.a.show,p)),icon:"plus",onClick:function t(o){e(o,"postContentCtaClick",{action:"NO_SELECTION",entrypoint:"FAB",isMemberSignedIn:l}),B()({module:"postContentCtaClick",action:"NO_SELECTION",context:"FAB|".concat(s),isMemberSignedIn:l}),n.onClick(o)}})}),k.createElement(_.TransitionGroup,{component:null},p&&u.map(function(o){var a=o.label,c=o.icon,u=o.onClick,p=i()(o,["label","icon","onClick"]);return k.createElement(_.CSSTransition,{classNames:F,timeout:m,unmountOnExit:!0,key:a},k.createElement(p.url?y.Link:"span",{className:I.a.upload_item,onClick:u,href:p.url},k.createElement(S.InteractionLogger,null,function(o){return k.createElement(k.Fragment,null,k.createElement(N.a,{icon:c,onClick:function i(a){void 0!==p.trackingName&&(o(a,"postContentCtaClick",{action:p.trackingName,entrypoint:"FAB",isMemberSignedIn:l}),B()({module:"postContentCtaClick",action:p.trackingName,context:"FAB|".concat(s),isMemberSignedIn:l})),p.url&&a.preventDefault(),t(p.loginPid).then(function(){var t;e.require(["trjs!ta/util/Cookie"],function(e){e.setPIDCookie(p.pid)}),p.name&&r(p.name),u&&u(a),p.url&&(null===(t=window)||void 0===t?void 0:t.location)&&(window.location.href=p.url)}),n.toggle(!1)}}),a)})))})))}))}}]),n}(k.Component);f()(U,"defaultProps",{actions:[],onClick:void 0,onChange:void 0,className:void 0,style:void 0}),t.a=Object(w.connect)(function(e){return{page:e.route.page,isMember:e.auth.isMember}},{showGlobalOverlay:C.actions.overlays.showGlobalOverlay})(U)}).call(this,n("./node_modules/webpack/buildin/global.js"))},"./packages/social/ugc-actions/UploaderActionButton.less":function(e,t,n){"use strict";t.a={upload_container:"social-ugc-actions-UploaderActionButton__upload_container--1wUKt",upload_item:"social-ugc-actions-UploaderActionButton__upload_item--23jkb",primary_button:"social-ugc-actions-UploaderActionButton__primary_button--14j2-",show:"social-ugc-actions-UploaderActionButton__show--QDvjj",enter:"social-ugc-actions-UploaderActionButton__enter--1nYyi",enter_active:"social-ugc-actions-UploaderActionButton__enter_active--3BGws",exit:"social-ugc-actions-UploaderActionButton__exit--17Ec8",exit_active:"social-ugc-actions-UploaderActionButton__exit_active--3UCJx"}},"./packages/social/ugc-actions/index.jsx":function(e,t,n){"use strict";n.r(t);var o=n("react"),i=n("./packages/social/ugc-actions/UploaderActionButton.jsx"),a=n("@babel/runtime/helpers/esm/classCallCheck"),c=n.n(a),r=n("@babel/runtime/helpers/esm/createClass"),s=n.n(r),l=n("@babel/runtime/helpers/esm/possibleConstructorReturn"),u=n.n(l),p=n("@babel/runtime/helpers/esm/getPrototypeOf"),m=n.n(p),d=n("@babel/runtime/helpers/esm/inherits"),g=n.n(d),b=n("@babel/runtime/helpers/esm/assertThisInitialized"),h=n.n(b),v=n("@babel/runtime/helpers/esm/defineProperty"),f=n.n(v),k=n("react-redux"),w=n("@ta/events.window-scroll"),_=n.n(w),C=function e(){var t,n,o,i=null===(t=document)||void 0===t?void 0:null===(n=t.documentElement)||void 0===n?void 0:n.clientWidth,a=null===(o=window)||void 0===o?void 0:o.innerWidth;return i&&a?i/a:1},y=function(e){function t(){var e,n;c()(this,t);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=u()(this,(e=m()(t)).call.apply(e,[this].concat(i))),f()(h()(h()(n)),"state",{bottomOffset:0}),f()(h()(h()(n)),"reposition",function(){if(document&&document.documentElement&&window&&window.innerHeight>window.innerWidth){var e=document.documentElement.clientHeight-(C()||1)*window.innerHeight,t=e>0?e:0;n.setState({bottomOffset:t})}}),n}return g()(t,e),s()(t,[{key:"render",value:function e(){var t=this.props,n=t.bottom,i=t.right,a=t.isRTL,c=n+this.state.bottomOffset,r=f()({bottom:c},a?"left":"right",i);return o.createElement(o.Fragment,null,this.props.children(r),this.props.isIOSSafari&&o.createElement(_.a,{callback:this.reposition,throttle:500}))}}]),t}(o.PureComponent),E=Object(k.connect)(function(e){return{isIOSSafari:"IOS"===e.meta.device.os.family&&"SAFARI"===e.meta.device.browser.family&&!e.meta.isNativeWebview,isRTL:e.i18n.isRtl}})(y),x=function e(t){var n=t.actions,a=t.onClick,c=t.onChange,r=t.bottom,s=t.right;return o.createElement(E,{bottom:r,right:s},function(e){return o.createElement(i.a,{actions:n,onClick:a,onChange:c,className:"social-ugc-actions-SocialFab__overlay--31Qvx",style:e})})};x.defaultProps={actions:[],onClick:void 0,onChange:void 0,bottom:12,right:8};var A=x,B=n("@ta/common.i18n"),j={Photo:40467,Review:40468},S=function(e){var t=j[e];switch(e){case"Feedback":var n=Object(B.localize)("mobile_feedback_subject"),o=Object(B.localize)("mobile_feedback_body_info"),i="mailto:".concat("userfeedback-svc@tripadvisor.com","?subject=").concat(n,"&body=").concat(o);return{label:Object(B.localize)("mobile_feedback_title"),icon:"email-fill",url:i,pid:t};case"Review":throw new Error("Default review option is no longer supported.");case"Photo":throw new Error("Default photo option is no longer supported.");case"Video":throw new Error("Default video option is no longer supported.");case"LinkPost":throw new Error("Default link post option is no longer supported.");case"Trip":return{label:Object(B.localize)("ugc_uploader_trip_v2"),icon:"my-trips",pid:t,url:"/Profile"};default:throw new Error("".concat(e," is not a valid ActionType"))}};n.d(t,"SocialFab",function(){return A}),n.d(t,"ugcActionMapper",function(){return S}),n.d(t,"LoginPID",function(){return j})}}});
//# sourceMappingURL=social.ugc-actions.c09530dd09.js.map