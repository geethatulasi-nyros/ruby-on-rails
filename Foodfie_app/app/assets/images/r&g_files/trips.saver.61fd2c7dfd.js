(window.$WP=window.$WP||[]).push({id:"@ta/trips.saver",d:["vendor-babel","vendor-react-libs","vendor-apollo-libs","@ta/trips.graphql","@ta/trips.trip-types","@ta/trips.trip-util","ta-platform"],e:["./packages/trips/saver/Saver.jsx"],x:{"./packages/trips/saver/Saver.jsx":["default"]},m:{"./packages/trips/saver/Saver.jsx":function(e,r,t){"use strict";t.r(r);var i=t("@babel/runtime/helpers/esm/classCallCheck"),a=t.n(i),n=t("@babel/runtime/helpers/esm/createClass"),o=t.n(n),s=t("@babel/runtime/helpers/esm/possibleConstructorReturn"),l=t.n(s),p=t("@babel/runtime/helpers/esm/getPrototypeOf"),u=t.n(p),c=t("@babel/runtime/helpers/esm/inherits"),d=t.n(c),v=t("react"),f=t("react-apollo"),b=t("@ta/trips.graphql"),m=(t("@ta/trips.trip-types"),t("@ta/trips.trip-util")),h=t("@ta/common.features"),T=function(e){function r(){return a()(this,r),l()(this,u()(r).apply(this,arguments))}return d()(r,e),o()(r,[{key:"render",value:function e(){var r=this.props,t=r.object,i=r.children,a=r.onSave,n=r.onError;return v.createElement(f.Mutation,{mutation:b.AddItemToTrip,onError:function e(){return n&&n({query:"ADD_ITEM_TO_TRIP"})},update:function e(r){return Object(m.updateSocialStatisticsOnSave)(r,t)},awaitRefetchQueries:!0},function(e){return i(function(r){e({variables:{tripId:r,referenceId:"".concat(t.id),referenceType:t.type,allowDuplicates:!1,socialReference:Object(h.featureIsEnabled)("social_at_referencing_profile_links")}}).then(function(e){var r,i,o,s,l,p,u=null==e?void 0:null===(r=e.data)||void 0===r?void 0:null===(i=r.addItemToTrip)||void 0===i?void 0:i.trip,c=null==e?void 0:null===(o=e.data)||void 0===o?void 0:null===(s=o.addItemToTrip)||void 0===s?void 0:null===(l=s.errors)||void 0===l?void 0:null===(p=l[0])||void 0===p?void 0:p.error;if(u){var d=Object(m.getItemByReference)(u,t);d?a(u,d):n&&n({query:"ADD_ITEM_TO_TRIP",tripsError:c})}else n&&n({query:"ADD_ITEM_TO_TRIP",tripsError:c})})})})}}]),r}(v.PureComponent);r.default=T}}});
//# sourceMappingURL=trips.saver.61fd2c7dfd.js.map