(window.$WP=window.$WP||[]).push({id:"@ta/common.page-guests",d:["vendor-babel","ta-platform"],e:["./packages/common/page-guests/page-guests.jsx"],x:{"./packages/common/page-guests/page-guests.jsx":["encode","decode","isIntegerInRange","HotelsValidation","DEFAULT_GUEST_INFO","setHotelsPageGuests","default"],"./packages/common/page-guests/update.jsx":["a"],"./packages/common/page-guests/utils.jsx":["b","a"]},m:{"./node_modules/webpack/buildin/global.js":function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},"./packages/common/page-guests/page-guests.jsx":function(e,t,n){"use strict";n.r(t);var s=n("./packages/common/page-guests/utils.jsx"),a=function e(t){return!(isNaN(t)||t%1!=0)},o=function e(t,n,s){return a(t)&&t>=n&&t<=s},r=function e(t,n,s){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;return a(t)?Math.min(s,Math.max(n,t)):o},i={rooms:1,adults:2,children:[]},u={limits:{MIN_ROOMS:1,MAX_ROOMS:8,MIN_ADULTS:1,MAX_ADULTS:32,MIN_CHILDREN:0,MAX_CHILDREN:20,MIN_CHILD_AGE:0,MAX_CHILD_AGE:17},isValid:function e(t){var n=t.rooms,s=t.adults,a=t.children,r=o(n,1,8),i=o(s,1,32),u=a&&o(a.length,0,20)&&a.every(function(e){return o(e,0,17)});return r&&i&&u},validate:function e(t,n){var s=t.rooms,a=t.adults,o=t.children,i=n.rooms,u=n.adults,c=n.children,d=void 0===c?[]:c,l=r(s,1,8,1),g=r(a,1,32,2),p=function e(t,n,s){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;return t?t.map(function(e){return r(e,n,s,a)}):[]}(o,-1,17,-1),f=r(p.length,0,20);if(l!==i)g=r(g,l,4*l),f=r(f,0,10*l);else if(g!==u||f!==d.length){var m=Math.ceil(g/4),h=Math.ceil(f/10),v=Math.max(m,h);l=r(l,v,g),f=r(f,0,10*l)}return{rooms:l,adults:g,children:p=p.slice(0,f)}}},c=n("./packages/common/page-guests/update.jsx");n.d(t,"encode",function(){return s.b}),n.d(t,"decode",function(){return s.a}),n.d(t,"isIntegerInRange",function(){return o}),n.d(t,"HotelsValidation",function(){return u}),n.d(t,"DEFAULT_GUEST_INFO",function(){return i}),n.d(t,"setHotelsPageGuests",function(){return c.a}),t.default={}},"./packages/common/page-guests/update.jsx":function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return r});var s=n("@ta/common.state"),a=n("./packages/common/page-guests/utils.jsx"),o=null,r=function t(n){if(n)try{var r=Object(a.b)(n);Object(s.getStore)().dispatch(s.actions.travelerInfo.setHotelsTravelerInfo(void 0,r,void 0)),function e(t){if(t){var n="uguests=".concat(t);fetch("/UpdateSessionDatesAjax",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},credentials:"same-origin",body:n})}}(r),function t(n){e.require(["trjs!ta/Core/TA.FireEvent","trjs!ta/util/Error","trjs!hotels/RoomsGuests"],function(e,t,s){o||(o=new s),o.update({nRooms:n.rooms,nAdults:n.adults,childrenAges:n.children});var a=o.updateStore();e.fireEvent("onLegacyGuestsChanged",a),e.fireEvent("searchFieldsChanged");try{window.ta.page.processNewTravelInfo&&window.ta.page.processNewTravelInfo()}catch(e){t.record(e,"page-dates-interface: Failed to update with new guests")}})}(n)}catch(e){}}}).call(this,n("./node_modules/webpack/buildin/global.js"))},"./packages/common/page-guests/utils.jsx":function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return r});var s=n("@babel/runtime/helpers/esm/slicedToArray"),a=n.n(s),o=function e(t){var n=t.rooms,s=t.adults,a=t.children;return["".concat(n),"".concat(s),a.join(",")].filter(function(e){return!!e.length}).join("_")},r=function e(t){var n=t?t.split("_"):[],s=a()(n,3),o=s[0],r=s[1],i=s[2],u=void 0===i?"":i;return{rooms:parseInt(o,10),adults:parseInt(r,10),children:u.split(",").filter(function(e){return!!e.length}).map(function(e){return parseInt(e,10)})}}}}});
//# sourceMappingURL=common.page-guests.76bd003823.js.map