(window.$WP=window.$WP||[]).push({id:"@ta/public.iap-reporting",d:["vendor-react-libs","vendor-babel","vendor-apollo-libs","ta-common","ta-platform","@ta/list.navigable-list","@ta/common.typeahead","@ta/social.button-group","@ta/input.text-area","@ta/styleguide.radio-button","@ta/overlays.modal","@ta/overlays.managers","@ta/overlays.headers","@ta/social.login-gate"],e:["./packages/public/iap-reporting/index.jsx"],x:{"./packages/public/iap-reporting/index.jsx":["ReportLinkPanel","ReportReviewPanel","ReportPhotoPanel","ReportVideoPanel","ReportForumPanel","ReportTripPanel","ReportLinkModal","ReportReviewModal","ReportPhotoModal","ReportVideoModal","ReportForumModal","ReportTripModal","ReportRepostModal","ReportLocationTopicModal","ReportLocationTopicPostModal","ReportMemberModal","ReportModalOpener","reportPropsFromObject"]},m:{"./packages/public/iap-reporting/index.jsx":function(e,t,n){"use strict";n.r(t);var o=n("react"),r=n("react-redux"),a=function e(t){if("string"==typeof t)return t},i=function e(t){if("number"==typeof t)return t},c={repostInfo:void 0},l=function e(t){return{csrfToken:t.auth.csrfToken,userId:t.auth.loggedInUserId,locale:t.i18n.locale}},u=n("@babel/runtime/helpers/esm/classCallCheck"),d=n.n(u),s=n("@babel/runtime/helpers/esm/createClass"),m=n.n(s),p=n("@babel/runtime/helpers/esm/possibleConstructorReturn"),_=n.n(p),I=n("@babel/runtime/helpers/esm/getPrototypeOf"),f=n.n(I),E=n("@babel/runtime/helpers/esm/inherits"),O=n.n(E),R=n("@babel/runtime/helpers/esm/assertThisInitialized"),b=n.n(R),T=n("@babel/runtime/helpers/esm/defineProperty"),v=n.n(T),N=n("@ta/input.text-area"),C=n("@ta/common.i18n"),h=function e(t){var n=t.label;n||(n=t.required?Object(C.localize)("social_report_level2_6b"):Object(C.unescaped)(Object(C.localize)("social_report_level2_5")));var r=function e(t,n,r){return t?o.createElement("div",{className:"public-iap-reporting-comment_box-CommentBox__numberLabels--1aNRp"},Object(C.localize)("ur_rd_0characterminimum",{0:n})," / ",Object(C.localize)("ur_rd_0charactermaximum",{0:r})):null}(t.required,t.minLength,t.maxLength);return o.createElement("div",{className:t.className},o.createElement("span",{className:"public-iap-reporting-comment_box-CommentBox__textLabel--3Etdx"},n),o.createElement(N.TextArea,{className:"public-iap-reporting-comment_box-CommentBox__commentBox--2RhBu",value:t.value,onChange:t.onChange,maxLength:t.maxLength}),r)};h.defaultProps={required:!1,label:"",minLength:10,maxLength:250,className:null};var P=h,S=n("@ta/styleguide.radio-button"),k=n.n(S),g=function e(t){var n=t.name,r=t.value,a=t.selected,i=t.labelTxt,c=t.onChangeMethod,l=t.children,u=a?"public-iap-reporting-radio_button-ReportIAPRadio__selected--Gpj4f":"public-iap-reporting-radio_button-ReportIAPRadio__label--3Mp1n";return o.createElement("div",{className:"public-iap-reporting-radio_button-ReportIAPRadio__iap_radio_container--2tP1r"},o.createElement(k.a,{name:n,value:r,selected:a,onSelect:c},o.createElement("span",{className:u},i)),o.createElement("div",{className:"public-iap-reporting-radio_button-ReportIAPRadio__children--148xl"},a&&l||null))},L=n("@babel/runtime/helpers/esm/objectSpread"),A=n.n(L),y=n("react-apollo"),j=n("@ta/styleguide.button"),w=n.n(j),W={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"SubmitContentVote"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"contentId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Long"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"contentType"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"userId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"iapReasonId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"comments"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"submitIAPVoteV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"contentId"},value:{kind:"Variable",name:{kind:"Name",value:"contentId"}}},{kind:"Argument",name:{kind:"Name",value:"contentType"},value:{kind:"Variable",name:{kind:"Name",value:"contentType"}}},{kind:"Argument",name:{kind:"Name",value:"userId"},value:{kind:"Variable",name:{kind:"Name",value:"userId"}}},{kind:"Argument",name:{kind:"Name",value:"iapReasonId"},value:{kind:"Variable",name:{kind:"Name",value:"iapReasonId"}}},{kind:"Argument",name:{kind:"Name",value:"comments"},value:{kind:"Variable",name:{kind:"Name",value:"comments"}}}],directives:[]}]}}],loc:{start:0,end:292}};W.loc.source={body:"841eabd1ca74"};var M=W,z={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"SubmitProfileVote"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"reportedUserId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"userId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"iapReasonId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"comments"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"submitProfileIAPVote"},arguments:[{kind:"Argument",name:{kind:"Name",value:"reportedUserId"},value:{kind:"Variable",name:{kind:"Name",value:"reportedUserId"}}},{kind:"Argument",name:{kind:"Name",value:"userId"},value:{kind:"Variable",name:{kind:"Name",value:"userId"}}},{kind:"Argument",name:{kind:"Name",value:"iapReasonId"},value:{kind:"Variable",name:{kind:"Name",value:"iapReasonId"}}},{kind:"Argument",name:{kind:"Name",value:"comments"},value:{kind:"Variable",name:{kind:"Name",value:"comments"}}}],directives:[]}]}}],loc:{start:0,end:260}};z.loc.source={body:"c7cc083ce88d"};var V=z,F=Object.freeze({FORUM:"FORUMPOST",USERREVIEW:"USERREVIEW",MEDIA:"MEDIA",TRIP:"2",LINK:"1",REPOST:"3",PROFILE:"4",LOCATION_TOPIC:"LOCATION_TOPIC",LOCATION_POSTING:"LOCATION_POSTING"}),x=new Set([F.USERREVIEW,F.MEDIA,F.LOCATION_TOPIC,F.LOCATION_POSTING]),D=new Set([F.FORUM]),U=new Set([F.LINK,F.TRIP]),B=new Set([F.PROFILE]),G=function e(t){return fetch(t,{cache:"no-cache",credentials:"same-origin",method:"POST",redirect:"follow"})},H=function e(t){var n="public-iap-reporting-submit-SubmitIapVote__wrapper--2xzHg";t.sticky&&(n+=" ".concat("public-iap-reporting-submit-SubmitIapVote__sticky--1yl8l"));var r=t.sticky?o.createElement("div",{className:"public-iap-reporting-submit-SubmitIapVote__stickySpacer--37PkE"},o.createElement(w.a,{disabled:!0})):null;return o.createElement(o.Fragment,null,r,o.createElement("div",{className:n},t.showBackButton?o.createElement(w.a,{type:"secondary",onClick:t.onBack},Object(C.localize)("com_fyf_p2_011")):null,o.createElement(y.Mutation,{mutation:V,onCompleted:t.onComplete,onError:t.onError},function(e){return o.createElement(y.Mutation,{mutation:M,onCompleted:t.onComplete,onError:t.onError},function(n){return o.createElement(w.a,{type:"primary",disabled:!1===t.submissionState,onClick:function o(){return function e(t,n,o){if(t.submissionState){var r,c;t.repostInfo?(r=t.repostInfo.originalId,c=i(t.contentId)):r=t.contentId;var l=A()({},t,{contentId:r});c&&n({contentId:c,contentType:F.REPOST,userId:l.userId,iapReasonId:l.submissionState.iapReason,comments:l.submissionState.comment}),x.has(l.contentType)?function e(t){var n=new URLSearchParams;return n.set("token",t.csrfToken),n.set("contentId","".concat(i(t.contentId)||"")),n.set("voteContentType",t.contentType),n.set("comment",t.submissionState.comment),n.set("reasonId",t.submissionState.iapReason),n.set("suggestedLocationId",t.submissionState.suggestedLocationId),G("/ReportIAP?action=reportIAP&step=SAVE&".concat(n.toString()))}(l).then(function(){l.onComplete()}).catch(function(){l.onError()}):D.has(l.contentType)?function e(t){var n=t.forumInfo||{},o=n.forumId,r=void 0===o?-1:o,a=n.forumTopicId,c=void 0===a?-1:a,l=new URLSearchParams;return l.set("token",t.csrfToken),l.set("fp","".concat(i(t.contentId)||"")),l.set("ff","".concat(r)),l.set("ft","".concat(c)),l.set("reason",t.submissionState.iapReason),G("/ForumVote?".concat(l.toString()))}(l).then(function(){l.onComplete()}).catch(function(){l.onError()}):U.has(l.contentType)?n({contentId:i(l.contentId),contentType:l.contentType,userId:l.userId,iapReasonId:l.submissionState.iapReason,comments:l.submissionState.comment}):B.has(l.contentType)&&o({reportedUserId:a(l.contentId),userId:l.userId,iapReasonId:l.submissionState.iapReason,comments:l.submissionState.comment})}}(t,function(e){return n({variables:e})},function(t){return e({variables:t})})}},Object(C.localize)("common_Submit"))})})))},Y=Object(r.connect)(function(e){return{sticky:"MOBILE"===e.meta.device.viewportCategory}})(H);H.defaultProps={forumInfo:void 0,repostInfo:void 0};var q=n("@babel/runtime/helpers/esm/toConsumableArray"),K=n.n(q),X=n("@ta/list.navigable-list"),J=n("@ta/common.typeahead"),Q=n("@ta/social.button-group"),Z=n.n(Q),$={doYouKnow:"public-iap-reporting-new_location_flow-SuggestionLocationBox__doYouKnow--2114s",enterName:"public-iap-reporting-new_location_flow-SuggestionLocationBox__enterName--1ER88",commentSpace:"public-iap-reporting-new_location_flow-SuggestionLocationBox__commentSpace--2cMrZ",selectorWrap:"public-iap-reporting-new_location_flow-SuggestionLocationBox__selectorWrap--ySzM_"},ee={default:"default",yes:"yes",no:"no"},te=function(e){function t(e){var n;return d()(this,t),n=_()(this,f()(t).call(this,e)),v()(b()(b()(n)),"onYesClick",function(){n.setState({locationKnown:ee.yes}),n.props.onYes()}),v()(b()(b()(n)),"onNoClick",function(){n.setState({locationKnown:ee.no}),n.props.onNo()}),v()(b()(b()(n)),"onResultSelected",function(e){var t=e.displayValue||"";n.props.onLocationChange(parseInt(e.value,10),t),n.setState({textInputValue:t})}),v()(b()(b()(n)),"textInputChanged",function(e){n.setState({textInputValue:e})}),v()(b()(b()(n)),"typeaheadJsonFetcher",new J.TypeaheadJsonFetcher({interleaved:!0,types:["hotel","attr","eat"],filter:["nobroad"],name_depth:1,details:!0,legacy_format:!0,urlList:!1,max:8})),v()(b()(b()(n)),"defaultResult",{type:"location_id",value:"0"}),v()(b()(b()(n)),"render",function(){var e=n.state.locationKnown===ee.yes?"primary":"secondary",t=n.state.locationKnown===ee.no?"primary":"secondary";return o.createElement("div",null,o.createElement("div",{className:$.doYouKnow},n.props.hintText),o.createElement(Z.a,null,o.createElement(w.a,{type:e,onClick:n.onYesClick},Object(C.localize)("common_Yes")),o.createElement(w.a,{type:t,onClick:n.onNoClick},Object(C.localize)("common_No"))),o.createElement("div",{style:{display:n.state.locationKnown===ee.yes?"block":"none"}},o.createElement("div",{className:$.enterName},Object(C.localize)("social_report_level3_1")),o.createElement("div",{className:$.selectorWrap},o.createElement(J.Selector,{typeaheadTextInputValue:n.state.textInputValue,selectionChanged:n.onResultSelected,fetchers:[n.typeaheadJsonFetcher],textInputChanged:n.textInputChanged,placeHolder:Object(C.localize)("common_25f1"),key:n.props.location.id},function(e,t,n){return o.createElement(X.NavigableList,null,[].concat(K()(e.worldwide||[]),K()(e.typeaheadjson||[])).map(function(e){return function(r,a){return o.createElement(J.TypeaheadJsonResult,{result:e,tracker:t,onMouseMove:a,onSelection:n,active:r,key:"result=".concat(e.value),includeIcon:!0})}}))})),o.createElement(P,{className:$.commentSpace,value:n.props.comment,onChange:n.props.onCommentChange,minLength:10,maxLength:250})),o.createElement("div",{style:{display:n.state.locationKnown===ee.no?"block":"none"}},o.createElement(P,{className:$.commentSpace,value:n.props.comment,onChange:n.props.onCommentChange,minLength:10,maxLength:250,required:!0,label:Object(C.localize)("social_report_level3_2")})))}),n.state={locationKnown:ee.default,textInputValue:e.location.label},n}return O()(t,e),t}(o.Component),ne=function(e){function t(){return d()(this,t),_()(this,f()(t).apply(this,arguments))}return O()(t,e),m()(t,[{key:"componentDidMount",value:function e(){this.props.onMountMethod()}},{key:"render",value:function e(){return this.props.children}}]),t}(o.Component),oe=function e(t){return!1},re=function e(t){return!0},ae=function e(t){return function(e){return e.comment.trim().length>t}},ie=function e(t){return t.suggestedLocation&&t.suggestedLocation.id>0},ce=ae(10),le={id:0,label:""},ue=function(e){function t(){var e,n;d()(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=_()(this,(e=f()(t)).call.apply(e,[this].concat(a))),v()(b()(b()(n)),"state",{selectedIAPReason:void 0,comment:"",suggestedLocation:le,isStateValid:function e(t){return!1},subPanelId:""}),v()(b()(b()(n)),"getSubmissionState",function(){return!!n.state.isStateValid&&!(!n.state.selectedIAPReason||n.state.selectedIAPReason<0)&&!!n.state.isStateValid(n.state)&&{iapReason:n.state.selectedIAPReason,comment:n.state.comment,suggestedLocationId:n.state.suggestedLocation.id}}),v()(b()(b()(n)),"setNewReason",function(e,t){n.setState({selectedIAPReason:e,isStateValid:t,comment:"",suggestedLocation:le})}),v()(b()(b()(n)),"setValidation",function(e){n.setState({isStateValid:e})}),v()(b()(b()(n)),"setSubPanel",function(e){n.setState({subPanelId:e})}),v()(b()(b()(n)),"setCommentFromCommentBoxEvent",function(e){n.setState({comment:e.target.value})}),v()(b()(b()(n)),"setLocation",function(e,t){var o={id:e,label:t};n.setState({suggestedLocation:o})}),v()(b()(b()(n)),"resetSubmissionState",function(){n.setState({comment:"",suggestedLocation:le})}),v()(b()(b()(n)),"createSubmitButton",function(){return o.createElement(Y,{contentId:n.props.contentId,contentType:n.props.contentType,userId:n.props.userId,csrfToken:n.props.csrfToken,submissionState:n.getSubmissionState(),onComplete:n.props.onComplete,onError:n.props.onError,onBack:function e(){n.setSubPanel(""),n.resetSubmissionState()},showBackButton:!!n.state.subPanelId,forumInfo:n.props.forumInfo,repostInfo:n.props.repostInfo})}),v()(b()(b()(n)),"createRadioWithSuggestionBox",function(e,t){return n.createRadioButtonWithChildren(e.id,e.labelGet(),oe,o.createElement(te,{hintText:t,comment:n.state.comment,onCommentChange:n.setCommentFromCommentBoxEvent,location:n.state.suggestedLocation,onLocationChange:n.setLocation,onYes:function e(){n.setValidation(ie),n.resetSubmissionState()},onNo:function e(){n.setValidation(ce),n.resetSubmissionState()}}))}),v()(b()(b()(n)),"createRadioWithText",function(e,t){return n.createRadioButtonWithChildren(e.id,e.labelGet(),re,t)}),v()(b()(b()(n)),"createRadio",function(e){return n.createRadioButtonWithChildren(e.id,e.labelGet(),re,null)}),v()(b()(b()(n)),"createRadioWithOptionalComment",function(e,t){return n.createRadioButtonWithChildren(e.id,e.labelGet(),re,o.createElement(o.Fragment,null,t,o.createElement(P,{value:n.state.comment,onChange:n.setCommentFromCommentBoxEvent,maxLength:250})))}),v()(b()(b()(n)),"createRadioWithRequiredComment",function(e,t){return n.createRadioButtonWithChildren(e.id,e.labelGet(),ae(10),o.createElement(o.Fragment,null,t,o.createElement(P,{value:n.state.comment,onChange:n.setCommentFromCommentBoxEvent,required:!0,minLength:10,maxLength:500})))}),v()(b()(b()(n)),"createRadioWithContentNoSubmit",function(e,t){return n.createRadioButtonWithChildren(e.id,e.labelGet(),oe,t)}),v()(b()(b()(n)),"createRadioButtonWithChildren",function(e,t,r,a){var i="".concat(e);return o.createElement(g,{name:"iapRadio",selected:e===n.state.selectedIAPReason,value:i,labelTxt:t,onChangeMethod:function t(){n.setNewReason(e,r)}},a)}),v()(b()(b()(n)),"createDefaultReasonWithRequiredComment",function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50;return n.createDefaultReasonWithChildren(e.id,ae(t),o.createElement(P,{value:n.state.comment,onChange:n.setCommentFromCommentBoxEvent,required:!0,minLength:t,maxLength:500}))}),v()(b()(b()(n)),"createDefaultReasonWithChildren",function(e,t,r){return o.createElement(ne,{onMountMethod:function o(){n.setNewReason(e,t)}},r)}),v()(b()(b()(n)),"createRadioButtonWithSubPanel",function(e,t,r,a){var i="".concat(e);return o.createElement(g,{name:"iapRadio",selected:!1,value:i,labelTxt:t,onChangeMethod:function t(){n.setSubPanel(a),n.setNewReason(e,r)}},null)}),v()(b()(b()(n)),"render",function(){return o.createElement(o.Fragment,null,o.createElement("div",null,n.props.children(b()(b()(n)))),n.createSubmitButton())}),n}return O()(t,e),m()(t,[{key:"isSubPanel",value:function e(t){return this.state.subPanelId===t}}]),t}(o.Component),de=function e(t,n){return{id:t,labelGet:n}},se={DUPLICATE_CONTENT:de(5,function(){return Object(C.unescaped)(Object(C.localize)("social_report_reason_photos2"))}),WRONG_LOCATION:de(6,function(){return Object(C.localize)("report_review_radio_8")}),CLOSED:de(8,function(){return Object(C.localize)("report_review_radio_21")}),OTHER:de(9,function(){return Object(C.localize)("report_review_radio_19")}),WRITTEN_BY_COMPETITOR:de(19,function(){return Object(C.localize)("report_review_radio_10")}),INAPPROPRIATE:de(22,function(){return Object(C.localize)("report_review_radio_9")}),NOT_ORIGINAL_REVIEW:de(24,function(){return Object(C.localize)("report_review_radio_16")}),NOT_TRAVELERS_OWN:de(25,function(){return Object(C.localize)("report_review_radio_13")}),PROMOTIONAL:de(27,function(){return Object(C.localize)("report_review_radio_24")}),REVIEW_NOT_CONSISTENT_WITH_RATING:de(30,function(){return Object(C.localize)("report_review_radio_12_ver_2")}),LOW_QUALITY:de(31,function(){return Object(C.localize)("iap_low_quality_ffffe4e2")}),COPYRIGHT_VIOLATION:de(32,function(){return Object(C.unescaped)(Object(C.localize)("social_content_report_copyright_violation"))}),BIASED:de(37,function(){return Object(C.localize)("report_review_radio_20")}),MORE_THAN_1_YEAR_AGO:de(38,function(){return Object(C.localize)("report_review_radio_11")}),CONTAINS_PRIVATE_INFO:de(41,function(){return Object(C.localize)("report_review_radio_18")}),PROFANE_EXPLICIT_HATE_SPEECH:de(42,function(){return Object(C.localize)("iap_profane_explicit_or_hate_speech")}),LINK_INCORRECT_OUTDATED_BROKEN:de(43,function(){return Object(C.localize)("iap_link_incorrect_outdated_broken")}),NOT_PERSONAL_EXPERIENCE:de(45,function(){return Object(C.localize)("iap_not_personal_experience")}),FALSE_MISLEADING_INFO:de(46,function(){return Object(C.localize)("iap_false_misleading_info")}),PROMOTES_ILLEGAL_ACTIVITY:de(47,function(){return Object(C.localize)("iap_promote_illegal_activity")}),PARTICIPATION_ILLEGAL_ACTIVITY:de(48,function(){return Object(C.localize)("iap_participate_illegal_activity")}),LINK_ILLEGAL_ACTIVITY:de(50,function(){return Object(C.localize)("iap_link_illegal_activity")}),SELF_PROMOTION_ADVERTISEMENT_SOLICITATION:de(51,function(){return Object(C.localize)("iap_forums_self_promotion")}),OFF_TOPIC:de(52,function(){return Object(C.localize)("iap_forums_off_topic")}),SPAM:de(53,function(){return Object(C.localize)("iap_forums_spam")}),DUPLICATE_FORUM:de(54,function(){return Object(C.localize)("iap_forums_duplicate")}),HARASSMENT:de(55,function(){return Object(C.localize)("iap_forums_harassment")}),PROFANITY_SEX_VIOLENCE_CRIME_HATE:de(56,function(){return Object(C.localize)("iap_forums_profanity_sex_violence_crime_hate")}),MULTIPLE_ACCOUNTS_OR_IMPERSONATION:de(57,function(){return Object(C.localize)("iap_forums_multiple_accounts_or_impersonation")}),PERSONAL_INFO:de(58,function(){return Object(C.localize)("iap_forums_personal_info")}),COPYRIGHTED:de(59,function(){return Object(C.localize)("iap_forums_copyrighted")}),TRIP_COPYRIGHT:de(60,function(){return Object(C.localize)("iap_trips_copyrighted")}),TRIP_NOT_TRAVEL_RELATED:de(61,function(){return Object(C.localize)("iap_trips_not_travel_related")}),TRIP_ERROR_OR_DISAGREE:de(62,function(){return Object(C.localize)("iap_trips_error_or_disagree")}),PROFILE_PROBLEM_WITH_PHOTO:de(63,function(){return Object(C.localize)("iap_profile_problem_with_pic")}),PROFILE_PROBLEM_WITH_LINK:de(64,function(){return Object(C.localize)("iap_profile_problem_with_link")}),PROFILE_IAP_USERNAME:de(65,function(){return Object(C.localize)("iap_profile_username")}),PROFILE_IAP_CONTRIBUTION:de(66,function(){return Object(C.localize)("iap_profile_contribution")}),PROFILE_PROBLEM_MY_ACCOUNT:de(67,function(){return Object(C.localize)("iap_profile_problem_my_account")}),PROFILE_UNWANTED_MESSAGE:de(68,function(){return Object(C.localize)("iap_profile_unwanted_messages")}),REPORT_THIS_REVIEW:de(-1,function(){return Object(C.localize)("report_review_radio_1")}),UPDATE_BUSINESS_DETAILS:de(-2,function(){return Object(C.localize)("report_review_radio_2")}),REPORT_BUSINESS_CLOSED:de(-3,function(){return Object(C.localize)("report_review_radio_3")}),EDIT_REMOVE_RESPONSE:de(-4,function(){return Object(C.localize)("report_review_radio_4")}),REPORT_OWNER_CHANGED:de(-5,function(){return Object(C.localize)("report_review_radio_5")}),REPORT_PHOTO:de(-6,function(){return Object(C.localize)("report_review_radio_6")}),REMOVE_LISTING:de(-7,function(){return Object(C.localize)("report_review_radio_7")}),DISAGREE_WITH_INFO:de(-8,function(){return Object(C.localize)("report_review_radio_17")})},me=function e(t){return o.createElement(ue,{csrfToken:t.csrfToken,userId:t.userId,contentId:t.contentId,contentType:F.LINK,onError:t.onError,onComplete:t.onComplete,repostInfo:t.repostInfo},function(e){return o.createElement(o.Fragment,null,e.createRadio(se.PROFANE_EXPLICIT_HATE_SPEECH),e.createRadio(se.LINK_ILLEGAL_ACTIVITY),e.createRadio(se.LINK_INCORRECT_OUTDATED_BROKEN))})};me.defaultProps=c;var pe=Object(r.connect)(function(e){return l(e)})(me),_e={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"IsPropertyOwner"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"locationId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"locations"},arguments:[{kind:"Argument",name:{kind:"Name",value:"locationIds"},value:{kind:"ListValue",values:[{kind:"Variable",name:{kind:"Name",value:"locationId"}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"locationId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ownerResponseUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ownerManagementUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"currentUserOwnerStatus"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isValid"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:199}};_e.loc.source={body:"5becb5041522"};var Ie=_e,fe=function e(t){var n=t.location||{},r=n.placeType,a=void 0===r?"":r,i=n.locationId,c=void 0===i?1:i,l="ATTRACTION"===a||"EATERY"===a;return o.createElement(y.Query,{query:Ie,variables:{locationId:c},errorPolicy:"all"},function(e){var n,r=e.loading,a=e.data;if(r)return null;var i=(null==a?void 0:a.locations)&&a.locations[0];return i&&(null===(n=i.currentUserOwnerStatus)||void 0===n?void 0:n.isValid)?function e(t,n,r,a){var i=n.ownerManagementUrl,c=n.ownerResponseUrl,l="/OwnerSupport?locationid=".concat(r,"&category=4&topic=44"),u=Object(C.unescaped)(Object(C.localize)("report_review_redirect_2_part_2",{sUrl:"/UpdateListing-d".concat(r)})),d=Object(C.unescaped)(Object(C.localize)("report_review_redirect_2_part_1",{sUrl:i})),s=a?u:d,m=Object(C.unescaped)(Object(C.localize)("report_review_redirect_3",{sUrl:i})),p=Object(C.unescaped)(Object(C.localize)("report_review_redirect_4_ver_2",{sUrl:c})),_=Object(C.unescaped)(Object(C.localize)("report_review_redirect_5",{sUrl:l})),I=Object(C.localize)("report_review_redirect_6"),f=Object(C.unescaped)(Object(C.localize)("report_review_redirect_7",{sUrl:"https://www.tripadvisorsupport.com/hc/en-us/articles/200614617-As-a-business-owner-or-representative-how-do-I-remove-my-listing-",sEmphClass:"public-iap-reporting-content-Reviews__bold--2OE23"}));return o.createElement(ue,{csrfToken:t.csrfToken,userId:t.userId,contentId:t.contentId,contentType:F.USERREVIEW,onError:t.onError,onComplete:t.onComplete,repostInfo:t.repostInfo},function(e){return e.isSubPanel("ownerReportReview")?o.createElement("div",{key:"ownerReportReview"},e.createRadioWithSuggestionBox(se.WRONG_LOCATION,Object(C.localize)("report_review_radio_desc_19")),e.createRadioWithOptionalComment(se.INAPPROPRIATE,Object(C.localize)("report_review_radio_desc_9")),e.createRadioWithRequiredComment(se.WRITTEN_BY_COMPETITOR,Object(C.localize)("report_review_radio_desc_10")),e.createRadioWithOptionalComment(se.MORE_THAN_1_YEAR_AGO,Object(C.localize)("report_review_radio_desc_11_ver_1")),e.createRadioWithOptionalComment(se.REVIEW_NOT_CONSISTENT_WITH_RATING,"".concat(Object(C.localize)("report_review_radio_desc_12_part_1")," ").concat(Object(C.localize)("report_review_radio_desc_12_part_2"))),e.createRadioWithOptionalComment(se.NOT_TRAVELERS_OWN,Object(C.localize)("report_review_radio_desc_13_ver_2")),e.createRadioWithOptionalComment(se.DUPLICATE_CONTENT,"".concat(Object(C.localize)("report_review_radio_desc_14_part_1")," ").concat(Object(C.localize)("report_review_radio_desc_14_part_2"))),e.createRadioWithOptionalComment(se.PROMOTIONAL,Object(C.localize)("report_review_radio_desc_15_ver_1")),e.createRadioWithOptionalComment(se.NOT_ORIGINAL_REVIEW,Object(C.localize)("report_review_radio_desc_16")),e.createRadioWithContentNoSubmit(se.DISAGREE_WITH_INFO,Object(C.unescaped)(Object(C.localize)("report_review_radio_desc_17",{sUrl:c}))),e.createRadioWithOptionalComment(se.CONTAINS_PRIVATE_INFO,Object(C.localize)("report_review_radio_desc_18")),e.createRadioWithRequiredComment(se.OTHER)):o.createElement(o.Fragment,null,e.createRadioButtonWithSubPanel(se.REPORT_THIS_REVIEW.id,se.REPORT_THIS_REVIEW.labelGet(),oe,"ownerReportReview"),e.createRadioWithContentNoSubmit(se.UPDATE_BUSINESS_DETAILS,s),e.createRadioWithContentNoSubmit(se.REPORT_BUSINESS_CLOSED,m),e.createRadioWithContentNoSubmit(se.EDIT_REMOVE_RESPONSE,p),e.createRadioWithContentNoSubmit(se.REPORT_OWNER_CHANGED,_),e.createRadioWithContentNoSubmit(se.REPORT_PHOTO,I),e.createRadioWithContentNoSubmit(se.REMOVE_LISTING,f))})}(t,i,c,l):function e(t,n,r){var a=n&&Object(C.unescaped)(Object(C.localize)("social_report_level2_redirect",{sUrl:"/UpdateListing-d".concat(n)})),i=n&&Object(C.unescaped)(Object(C.localize)("social_report_level2_1",{sUrl:"/Owners-d".concat(n)}));return o.createElement(ue,{csrfToken:t.csrfToken,userId:t.userId,contentId:t.contentId,contentType:F.USERREVIEW,onError:t.onError,onComplete:t.onComplete,repostInfo:t.repostInfo},function(e){return o.createElement(o.Fragment,null,e.createRadioWithOptionalComment(se.PROFANE_EXPLICIT_HATE_SPEECH),e.createRadioWithOptionalComment(se.PROMOTES_ILLEGAL_ACTIVITY),e.createRadioWithRequiredComment(se.BIASED),r?e.createRadioWithContentNoSubmit(se.CLOSED,o.createElement("span",null,a)):e.createRadioWithRequiredComment(se.CLOSED),e.createRadioWithSuggestionBox(se.WRONG_LOCATION,Object(C.localize)("report_review_radio_desc_19")),e.createRadioWithOptionalComment(se.DUPLICATE_CONTENT),e.createRadioWithOptionalComment(se.NOT_PERSONAL_EXPERIENCE),e.createRadioWithContentNoSubmit(se.FALSE_MISLEADING_INFO,o.createElement("span",null,i)),e.createRadioWithRequiredComment(se.OTHER))})}(t,c,l)})};fe.defaultProps=c;var Ee=Object(r.connect)(function(e){return l(e)})(fe),Oe=function e(t){return o.createElement(ue,{csrfToken:t.csrfToken,userId:t.userId,contentId:t.contentId,contentType:F.MEDIA,onError:t.onError,onComplete:t.onComplete,repostInfo:t.repostInfo},function(e){return o.createElement(o.Fragment,null,e.createRadioWithOptionalComment(se.PROFANE_EXPLICIT_HATE_SPEECH),e.createRadioWithOptionalComment(se.PARTICIPATION_ILLEGAL_ACTIVITY),e.createRadioWithOptionalComment(se.LOW_QUALITY),e.createRadioWithSuggestionBox(se.WRONG_LOCATION,Object(C.localize)("social_report_level2_3")),e.createRadioWithOptionalComment(se.DUPLICATE_CONTENT),e.createRadioWithOptionalComment(se.COPYRIGHT_VIOLATION),e.createRadioWithRequiredComment(se.OTHER))})};Oe.defaultProps=c;var Re=Object(r.connect)(function(e){return l(e)})(Oe),be=function e(t){return o.createElement(ue,{csrfToken:t.csrfToken,userId:t.userId,contentId:t.contentId,contentType:F.MEDIA,onError:t.onError,onComplete:t.onComplete,repostInfo:t.repostInfo},function(e){return o.createElement(o.Fragment,null,e.createRadioWithOptionalComment(se.PROFANE_EXPLICIT_HATE_SPEECH),e.createRadioWithOptionalComment(se.PARTICIPATION_ILLEGAL_ACTIVITY),e.createRadioWithSuggestionBox(se.WRONG_LOCATION,Object(C.localize)("social_report_level2_4")),e.createRadioWithOptionalComment(se.DUPLICATE_CONTENT),e.createRadioWithOptionalComment(se.COPYRIGHT_VIOLATION),e.createRadioWithRequiredComment(se.OTHER))})};be.defaultProps=c;var Te=Object(r.connect)(function(e){return l(e)})(be),ve=n("@babel/runtime/helpers/esm/objectWithoutProperties"),Ne=n.n(ve),Ce=function e(t){var n=t.forumInfo,r=Ne()(t,["forumInfo"]);return o.createElement(ue,{csrfToken:r.csrfToken,userId:r.userId,contentId:r.contentId,contentType:F.FORUM,onError:r.onError,onComplete:r.onComplete,forumInfo:n,repostInfo:r.repostInfo},function(e){return o.createElement(o.Fragment,null,e.createRadioWithOptionalComment(se.SELF_PROMOTION_ADVERTISEMENT_SOLICITATION),e.createRadioWithOptionalComment(se.OFF_TOPIC),e.createRadioWithOptionalComment(se.SPAM),e.createRadioWithOptionalComment(se.DUPLICATE_FORUM),e.createRadioWithOptionalComment(se.HARASSMENT),e.createRadioWithOptionalComment(se.PROFANITY_SEX_VIOLENCE_CRIME_HATE),e.createRadioWithOptionalComment(se.MULTIPLE_ACCOUNTS_OR_IMPERSONATION),e.createRadioWithOptionalComment(se.PERSONAL_INFO),e.createRadioWithOptionalComment(se.COPYRIGHTED))})};Ce.defaultProps=c;var he=Object(r.connect)(function(e){return l(e)})(Ce),Pe=n("@ta/common.state"),Se=function e(t){var n=Object(Pe.getStore)().getState().i18n.ietfLocale.replace("_","-").toLocaleLowerCase(),r=Object(C.unescaped)(Object(C.localize)("trip_level_2_disagree_or_error",{sUrl:"https://www.tripadvisorsupport.com/hc/".concat(n,"/articles/360008024254")}));return o.createElement(ue,{csrfToken:t.csrfToken,userId:t.userId,contentId:t.contentId,contentType:F.TRIP,onError:t.onError,onComplete:t.onComplete,repostInfo:t.repostInfo},function(e){return o.createElement(o.Fragment,null,e.createRadioWithOptionalComment(se.PROFANE_EXPLICIT_HATE_SPEECH),e.createRadioWithOptionalComment(se.PROMOTES_ILLEGAL_ACTIVITY),e.createRadioWithOptionalComment(se.TRIP_COPYRIGHT),e.createRadioWithOptionalComment(se.TRIP_NOT_TRAVEL_RELATED),e.createRadioWithContentNoSubmit(se.TRIP_ERROR_OR_DISAGREE,o.createElement("span",null,r)),e.createRadioWithRequiredComment(se.OTHER))})};Se.defaultProps=c;var ke=Object(r.connect)(function(e){return l(e)})(Se),ge=n("@ta/overlays.modal"),Le=n("@ta/overlays.managers"),Ae=n("@ta/overlays.headers"),ye=n("@ta/social.login-gate"),je={iapTYH1:"public-iap-reporting-ContentModals__iapTYH1--3QyZX",iapTYText:"public-iap-reporting-ContentModals__iapTYText--1J2-7",iapTYContent:"public-iap-reporting-ContentModals__iapTYContent--wf_rh",iapModalContent:"public-iap-reporting-ContentModals__iapModalContent--3IrQE"},we=function e(t){return o.createElement(ue,{csrfToken:t.csrfToken,userId:t.userId,contentId:t.contentId,contentType:F.LOCATION_TOPIC,onError:t.onError,onComplete:t.onComplete,repostInfo:t.repostInfo},function(e){return o.createElement(o.Fragment,null,o.createElement("div",null,Object(C.localize)("qa_iap_label")),e.createDefaultReasonWithRequiredComment(se.INAPPROPRIATE))})};we.defaultProps=c;var We=Object(r.connect)(function(e){return l(e)})(we),Me=function e(t){return o.createElement(ue,{csrfToken:t.csrfToken,userId:t.userId,contentId:t.contentId,contentType:F.LOCATION_POSTING,onError:t.onError,onComplete:t.onComplete,repostInfo:t.repostInfo},function(e){return o.createElement(o.Fragment,null,o.createElement("div",null,Object(C.localize)("qa_iap_label")),e.createDefaultReasonWithRequiredComment(se.INAPPROPRIATE))})};Me.defaultProps=c;var ze=Object(r.connect)(function(e){return l(e)})(Me),Ve=function e(t){var n=t.locale.replace("_","-").toLocaleLowerCase(),r=Object(C.unescaped)(Object(C.localize)("iap_profile_report_from_post_lev2",{sUrl:"https://www.tripadvisorsupport.com/hc/".concat(n,"/articles/360008133913-TripAdvisor-s-Content-Policy")})),a=Object(C.unescaped)(Object(C.localize)("iap_profile_general_support_lev2")),i=Object(C.unescaped)(Object(C.localize)("iap_profile_report_from_inbox_lev2"));return o.createElement(ue,{csrfToken:t.csrfToken,userId:t.userId,contentId:t.contentId,contentType:F.PROFILE,onError:t.onError,onComplete:t.onComplete},function(e){return o.createElement(o.Fragment,null,e.createRadioWithText(se.PROFILE_PROBLEM_WITH_PHOTO,Object(C.localize)("iap_profile_problem_with_pic_lev2")),e.createRadio(se.PROFILE_PROBLEM_WITH_LINK),e.createRadio(se.PROFILE_IAP_USERNAME),e.createRadioWithContentNoSubmit(se.PROFILE_IAP_CONTRIBUTION,o.createElement("span",null,r)),e.createRadioWithContentNoSubmit(se.PROFILE_PROBLEM_MY_ACCOUNT,o.createElement("span",null,a)),e.createRadioWithContentNoSubmit(se.PROFILE_UNWANTED_MESSAGE,o.createElement("span",null,i)))})};Ve.defaultProps=c;var Fe=Object(r.connect)(function(e){return l(e)})(Ve),xe=function e(){return o.createElement(Le.Closer,null,function(e){return o.createElement(w.a,{size:"fullwidth",type:"primary",onClick:e},Object(C.localize)("common_OK"))})},De=function e(){return o.createElement("div",{className:je.iapTYContent},o.createElement("p",{className:je.iapTYH1,style:{textAlign:"center"}},Object(C.localize)("social_report_ty2")),o.createElement("p",{className:je.iapTYText},Object(C.localize)("social_report_ty2b")),xe())},Ue=function e(){return o.createElement("div",{className:"".concat(je.iapTYContent," ").concat(je.iapTYText)},Object(C.localize)("social_report_prof_err"),xe())},Be=function(e){function t(){var e,n;d()(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=_()(this,(e=f()(t)).call.apply(e,[this].concat(a))),v()(b()(b()(n)),"state",{status:"panel"}),v()(b()(b()(n)),"onError",function(){n.setState({status:"error"})}),v()(b()(b()(n)),"onComplete",function(){n.setState({status:"thankyou"})}),v()(b()(b()(n)),"render",function(){var e;e="thankyou"===n.state.status?o.createElement(De,null):"error"===n.state.status?o.createElement(Ue,null):o.createElement("div",{className:je.iapModalContent},n.props.children(n.onError,n.onComplete));var t=o.createElement(Ae.TitleBar,{iconName:"flag-fill",displayType:"LEFT_ALIGN_GRAY"},o.createElement("div",null,Object(C.localize)("report_problem_ffffff85")));return o.createElement(ge.Modal,{name:n.props.modalName,header:t},e)}),n}return O()(t,e),t}(o.Component),Ge=function e(t){var n=t.name,r=t.children;return o.createElement(ye.SocialOpener,{name:n},r)},He={repostInfo:void 0,forumInfo:void 0,location:void 0},Ye=function e(t){return o.createElement(Be,{modalName:t.modalName},function(e,n){return o.createElement(pe,{onError:e,onComplete:n,contentId:t.contentId,repostInfo:t.repostInfo})})};Ye.defaultProps=He;var qe=function e(t){return o.createElement(Be,{modalName:t.modalName},function(e,n){return o.createElement(Ee,{onError:e,onComplete:n,contentId:t.contentId,location:t.location,repostInfo:t.repostInfo})})};qe.defaultProps=He;var Ke=function e(t){return o.createElement(Be,{modalName:t.modalName},function(e,n){return o.createElement(Re,{onError:e,onComplete:n,contentId:t.contentId,repostInfo:t.repostInfo})})};Ke.defaultProps=He;var Xe=function e(t){return o.createElement(Be,{modalName:t.modalName},function(e,n){return o.createElement(Te,{onError:e,onComplete:n,contentId:t.contentId,repostInfo:t.repostInfo})})};Xe.defaultProps=He;var Je=function e(t){return o.createElement(Be,{modalName:t.modalName},function(e,n){return o.createElement(he,{onError:e,onComplete:n,contentId:t.contentId,forumInfo:t.forumInfo,repostInfo:t.repostInfo})})};Je.defaultProps=He;var Qe=function e(t){return o.createElement(Be,{modalName:t.modalName},function(e,n){return o.createElement(ke,{onError:e,onComplete:n,contentId:t.contentId,repostInfo:t.repostInfo})})};Qe.defaultProps=He;var Ze=function e(t){return o.createElement(Be,{modalName:t.modalName},function(e,n){return o.createElement(We,{onError:e,onComplete:n,contentId:t.contentId,repostInfo:t.repostInfo})})};Ze.defaultProps=He;var $e=function e(t){return o.createElement(Be,{modalName:t.modalName},function(e,n){return o.createElement(ze,{onError:e,onComplete:n,contentId:t.contentId,repostInfo:t.repostInfo})})};$e.defaultProps=He;var et=function e(t){return o.createElement(Be,{modalName:t.modalName},function(e,n){return o.createElement(Fe,{onError:e,onComplete:n,contentId:t.contentId})})};et.defaultProps=He;var tt=function e(t){var n=(t.repostInfo||{}).originalType;switch(void 0===n?void 0:n){case"Review":return o.createElement(qe,t);case"Photo":return o.createElement(Ke,t);case"Video":return o.createElement(Xe,t);case"LinkPost":return o.createElement(Ye,t);case"ForumPost":return o.createElement(Je,t);case"Trip":return o.createElement(Qe,t);case"ApiLocationTopic":return o.createElement(Ze,t);case"ApiTopicPosting":return o.createElement($e,t);default:return null}};tt.defaultProps=He;var nt=n("@ta/common.global"),ot=function e(t){var n={contentId:Object(nt.getObjectId)(t),location:t.location,forumInfo:{forumId:t.forumId,forumTopicId:t.topicId}},o=t.repostedObject;if(!o)return n;var r=Object(nt.getObjectId)(o);return A()({},n,{location:o.location,forumInfo:{forumId:o.forumId,forumTopicId:o.topicId},repostInfo:{originalId:r,originalType:o.__typename}})};n.d(t,"ReportLinkPanel",function(){return pe}),n.d(t,"ReportReviewPanel",function(){return Ee}),n.d(t,"ReportPhotoPanel",function(){return Re}),n.d(t,"ReportVideoPanel",function(){return Te}),n.d(t,"ReportForumPanel",function(){return he}),n.d(t,"ReportTripPanel",function(){return ke}),n.d(t,"ReportLinkModal",function(){return Ye}),n.d(t,"ReportReviewModal",function(){return qe}),n.d(t,"ReportPhotoModal",function(){return Ke}),n.d(t,"ReportVideoModal",function(){return Xe}),n.d(t,"ReportForumModal",function(){return Je}),n.d(t,"ReportTripModal",function(){return Qe}),n.d(t,"ReportRepostModal",function(){return tt}),n.d(t,"ReportLocationTopicModal",function(){return Ze}),n.d(t,"ReportLocationTopicPostModal",function(){return $e}),n.d(t,"ReportMemberModal",function(){return et}),n.d(t,"ReportModalOpener",function(){return Ge}),n.d(t,"reportPropsFromObject",function(){return ot})}}});
//# sourceMappingURL=public.iap-reporting.e1aeea1953.js.map