(window.$WP=window.$WP||[]).push({id:"@ta/trips.trip-avatars",d:["vendor-react-libs","ta-platform","ta-common","@ta/trips.trip-util","@ta/trips.collaboration","@ta/trips.trip-types"],e:["./packages/trips/trip-avatars/TripAvatars.jsx"],x:{"./packages/trips/trip-avatars/TripAvatars.jsx":["default"]},m:{"./packages/trips/trip-avatars/TripAvatars.jsx":function(t,a,r){"use strict";r.r(a);var e=r("react"),i=r("@ta/common.classnames"),s=r.n(i),l=r("react-redux"),n=r("@ta/styleguide.avatar"),o=r("@ta/common.features"),p=r("@ta/trips.trip-util"),c=r("@ta/trips.collaboration"),v=(r("@ta/trips.trip-types"),{avatarGroup:"trips-trip-avatars-TripAvatars__avatarGroup--2NC3g",default:"trips-trip-avatars-TripAvatars__default--ow1K-"}),d={avatarSize:"default",tabletAvatarSize:void 0,isRtl:!1,maxAvatars:6,addFriend:!1,onAvatarClick:void 0,onFriendClick:void 0},u=function t(a){var r,i=Object(p.getTripPermissions)(a.trip,!1),l=!1,u=!1,f=(a.trip.collaborators||[]).length>0;i.canAddCollaborators&&Object(o.featureIsEnabled)("trips_2018_collab")&&Object(o.featureIsEnabled)("trips_2018_writes")?(l=a.addFriend,r=f?a.showCollabMenu:void 0,u=!r):(l=!1,u=!0);var m=Object(p.getTripUsersForDisplay)(a.trip,a.maxAvatars||d.maxAvatars,0,a.isRtl),b=m.length>=4,g=b?"right":"left",A=b?-7:7,h=m.length>5?m.slice(m.length-5,m.length):m,S=a.avatarSize?a.avatarSize.toString():v.default,_=function t(){a.onAvatarClick&&a.onAvatarClick(),r&&r()};return e.createElement(e.Fragment,null,e.createElement("span",{className:s()("ui_social_avatar_group",v.avatarGroup,v[S])},h.map(function(t){var r;return t&&e.createElement(n.Avatar,{key:"".concat(t.id,"_").concat(a.trip.id),size:a.avatarSize,tabletSize:a.tabletAvatarSize,href:u?null==t?void 0:null===(r=t.route)||void 0===r?void 0:r.url:"",withBorder:!0,photo:t.avatar,onClick:_,mobileTarget:"_self"})}),l&&e.createElement(c.ShareTripPopup,{alignEdge:g,shiftArrow:A,trip:a.trip,shareType:"WRITE",closeOnScroll:!0},function(t,r){return e.createElement(c.AddFriendIcon,{targetRef:t,onClick:function t(){a.onFriendClick&&a.onFriendClick(),r()},size:a.avatarSize,tabletSize:a.tabletAvatarSize})})))};u.defaultProps=d,a.default=Object(l.connect)(function(t){return{isRtl:t.i18n.isRtl}})(u)}}});
//# sourceMappingURL=trips.trip-avatars.f88588f735.js.map