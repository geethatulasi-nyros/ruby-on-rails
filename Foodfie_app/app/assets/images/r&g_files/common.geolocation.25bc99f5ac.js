(window.$WP=window.$WP||[]).push({id:"@ta/common.geolocation",d:["vendor-babel","vendor-react-libs"],e:["./packages/common/geolocation/index.jsx"],x:{"./packages/common/geolocation/index.jsx":["HasLocationPermission","canRequestLocation","requestLocation","watchLocation","clearWatch"]},m:{"./packages/common/geolocation/index.jsx":function(t,n,o){"use strict";o.r(n);var e=function t(){return"undefined"!=typeof navigator&&void 0!==navigator.geolocation},i=function t(n,o){n&&"function"==typeof n&&(e()?navigator.geolocation.getCurrentPosition(function(t){n(t.coords.latitude,t.coords.longitude)},function(t){"function"==typeof o&&o(t)}):o&&"function"==typeof o&&o(new Error("Location services not available")))},a=function t(n,o){return n&&"function"==typeof n?e()?navigator.geolocation.watchPosition(function(t){n(t.coords.latitude,t.coords.longitude)},function(t){"function"==typeof o&&o(t)},{maximumAge:0,timeout:1/0,enableHighAccuracy:!1}):(o&&"function"==typeof o&&o(new Error("Location services not available")),null):null},r=function t(n){e()&&navigator.geolocation.clearWatch(n)},c=o("@babel/runtime/helpers/esm/classCallCheck"),s=o.n(c),u=o("@babel/runtime/helpers/esm/createClass"),l=o.n(u),p=o("@babel/runtime/helpers/esm/possibleConstructorReturn"),m=o.n(p),f=o("@babel/runtime/helpers/esm/getPrototypeOf"),d=o.n(f),g=o("@babel/runtime/helpers/esm/inherits"),h=o.n(g),v=o("react"),b=function(t){function n(t){var o;return s()(this,n),(o=m()(this,d()(n).call(this,t))).state={outputComponent:null},o}return h()(n,t),l()(n,[{key:"componentDidMount",value:function t(){var n=this;navigator&&navigator.permissions&&navigator.permissions.query&&navigator.permissions.query({name:"geolocation"}).then(function(t){t&&t.state&&("granted"===t.state?navigator.geolocation.getCurrentPosition(function(){n.setState({outputComponent:n.props.hasPermission()})},function(t){t.code===t.POSITION_UNAVAILABLE&&n.setState({outputComponent:n.props.positioningOff()})}):"denied"===t.state?n.setState({outputComponent:n.props.deniedPermission()}):"prompt"===t.state&&n.setState({outputComponent:n.props.promptPermission()}))})}},{key:"render",value:function t(){return v.createElement(v.Fragment,null,this.state.outputComponent)}}]),n}(v.Component);o.d(n,"canRequestLocation",function(){return e}),o.d(n,"requestLocation",function(){return i}),o.d(n,"watchLocation",function(){return a}),o.d(n,"clearWatch",function(){return r}),o.d(n,"HasLocationPermission",function(){return b})}}});
//# sourceMappingURL=common.geolocation.25bc99f5ac.js.map