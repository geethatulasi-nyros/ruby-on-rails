(window.$WP=window.$WP||[]).push({id:"@ta/input.slider",d:["vendor-babel","vendor-react-libs","@ta/events.window-resize","ta-platform"],e:["./packages/input/slider/index.jsx"],x:{"./packages/input/slider/index.jsx":["Slider","ManagedSlider"]},m:{"./packages/input/slider/index.jsx":function(e,n,t){"use strict";t.r(n);var a=t("@babel/runtime/helpers/esm/extends"),r=t.n(a),o=t("@babel/runtime/helpers/esm/classCallCheck"),i=t.n(o),s=t("@babel/runtime/helpers/esm/createClass"),l=t.n(s),u=t("@babel/runtime/helpers/esm/possibleConstructorReturn"),d=t.n(u),c=t("@babel/runtime/helpers/esm/getPrototypeOf"),p=t.n(c),m=t("@babel/runtime/helpers/esm/inherits"),h=t.n(m),g=t("@babel/runtime/helpers/esm/assertThisInitialized"),f=t.n(g),v=t("@babel/runtime/helpers/esm/defineProperty"),b=t.n(v),x=t("react"),P=t("react-redux"),w=t("@babel/runtime/helpers/esm/slicedToArray"),E=t.n(w),S=t("@ta/events.window-resize"),T=t.n(S),M=t("@ta/common.throttle"),R=t.n(M),L=function e(n){return R()(n,10,!0)},H=function(e){function n(){var e,t;i()(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return t=d()(this,(e=p()(n)).call.apply(e,[this].concat(r))),b()(f()(f()(t)),"state",{containerWidth:-1,containerLeft:-1}),b()(f()(f()(t)),"getPositions",function(){var e=t.valueToPercent(t.props.minHandleValue),n=t.props.isRtl?1-e:e,a=t.valueToPercent(t.props.maxHandleValue);return{minPosition:n,maxPosition:t.props.isRtl?1-a:a}}),b()(f()(f()(t)),"setContainer",function(e){e&&(t.container=e,t.setPositionsFromContainer())}),b()(f()(f()(t)),"setPositionsFromContainer",function(){t.container&&t.setContainerPositions(t.container.getBoundingClientRect().left,t.container.offsetWidth)}),b()(f()(f()(t)),"setContainerPositions",function(e,n){t.setState({containerWidth:n,containerLeft:e})}),b()(f()(f()(t)),"getBarStyle",function(e,n){if(t.state.containerWidth<0)return{};var a=e*t.state.containerWidth;a=t.props.isRtl?a-t.state.containerWidth:a;var r=((n-e)*(t.props.isRtl?-1:1)).toFixed(4),o="translate3d(".concat(a,"px, 0, 0) scaleX(").concat(r,")");return{WebkitTransform:o,msTransform:"translateX(".concat(a,"px) scaleX(").concat(r,")"),background:t.props.colorOverride,transform:o}}),b()(f()(f()(t)),"getHandleStyle",function(e,n){if(t.state.containerWidth<0)return{display:"none"};var a=e*t.state.containerWidth;a=t.props.isRtl?a-t.state.containerWidth:a;var r="translate3d(".concat(a,"px, 0, 0)");return{WebkitTransform:r,msTransform:"translateX(".concat(a,"px)"),transform:r,zIndex:n?"3":"2"}}),b()(f()(f()(t)),"getMin",function(e){var n=t.getPositions(),a=n.minPosition,r=n.maxPosition;return t.props.isRtl?e?r:0:e?0:a}),b()(f()(f()(t)),"getMax",function(e){var n=t.getPositions(),a=n.minPosition,r=n.maxPosition;return t.props.isRtl?e?1:a:e?r:1}),b()(f()(f()(t)),"getRTLAwareValue",function(e){return t.props.isRtl?1-e:e}),b()(f()(f()(t)),"percentToValue",function(e){var n=Math.pow(e,t.props.exponent||1);return Math.round(n*(t.props.max-t.props.min)+t.props.min)}),b()(f()(f()(t)),"valueToPercent",function(e){var n=(e-t.props.min)/(t.props.max-t.props.min);return Math.pow(n,1/(t.props.exponent||1))}),b()(f()(f()(t)),"alignValue",function(e,n,a){if(e<=n)return n;if(e>=a)return a;var r=t.percentStep;if(r<=0)return e;var o=(e-n)%r,i=e-o;return 2*Math.abs(o)>=r&&(i+=o>0?r:-r),i}),b()(f()(f()(t)),"drag",L(function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=(e-((t.container&&t.container.getBoundingClientRect().left||t.state.containerLeft)+(document.body&&document.body.scrollLeft||0)))/t.state.containerWidth;a&&(r=t.alignValue(r,t.getMin(n),t.getMax(n)));var o=t.getPositions(),i=o.minPosition,s=o.maxPosition,l=t.percentToValue(t.getRTLAwareValue(n?r:i)),u=t.percentToValue(t.getRTLAwareValue(n?s:r));t.maxHandleMoved=!n,t.props.onChange(l,u)})),b()(f()(f()(t)),"dragStart",function(e){var n=e.pageX;return t.drag(n,!0)}),b()(f()(f()(t)),"dragEnd",function(e){var n=e.pageX;return t.drag(n)}),b()(f()(f()(t)),"dragStartTouch",function(e){var n=E()(e.touches,1)[0].pageX;return t.drag(n,!0)}),b()(f()(f()(t)),"dragEndTouch",function(e){var n=E()(e.touches,1)[0].pageX;return t.drag(n)}),b()(f()(f()(t)),"releaseDebounced",L(function(){["touchend","mouseup"].forEach(function(e){return window.removeEventListener(e,t.releaseDebounced)}),["touchleave","mouseleave"].forEach(function(e){return document.removeEventListener(e,t.releaseDebounced)}),[t.dragStartTouch,t.dragEndTouch].forEach(function(e){return window.removeEventListener("touchmove",e)}),[t.dragStart,t.dragEnd].forEach(function(e){return window.removeEventListener("mousemove",e)}),t.props.onRelease&&t.props.onRelease()})),b()(f()(f()(t)),"grabDebounced",L(function(e){var n=t.releaseDebounced;window.addEventListener("mousemove",e?t.dragStart:t.dragEnd),window.addEventListener("touchmove",e?t.dragStartTouch:t.dragEndTouch),window.addEventListener("touchend",n),window.addEventListener("mouseup",n),document.addEventListener("mouseleave",n),document.addEventListener("touchleave",n)})),b()(f()(f()(t)),"grab",function(e,n){e.persist(),e.stopPropagation(),t.grabDebounced(n)}),b()(f()(f()(t)),"snapTo",function(e,n){if(t.props.tappable&&e){var a=(n-t.container.getBoundingClientRect().left)/t.container.offsetWidth,r=t.getPositions().minPosition,o=t.props.isRtl?a>r:a<r;t.grab(e,o),t.drag(n,o,!1)}}),b()(f()(f()(t)),"maxHandleOnTop",function(){if(void 0!==t.maxHandleMoved)return t.maxHandleMoved;var e=t.getPositions(),n=e.minPosition,a=e.maxPosition,r=(t.props.isRtl?t.getMax(!0)-n:n-t.getMin(!0))*t.state.containerWidth,o=(t.props.isRtl?a-t.getMin(!1):t.getMax(!1)-a)*t.state.containerWidth;return r<26&&o>26}),b()(f()(f()(t)),"container",void 0),b()(f()(f()(t)),"bar",void 0),b()(f()(f()(t)),"percentStep",void 0),b()(f()(f()(t)),"maxHandleMoved",void 0),t}return h()(n,e),l()(n,[{key:"render",value:function e(){var n=this,t=this.maxHandleOnTop();this.percentStep=1/((this.props.max-this.props.min)/this.props.step);var a=this.props.minLabel;null===a&&null!==this.props.maxLabel&&(a=x.createElement("span",null));var r=this.getPositions(),o=r.minPosition,i=r.maxPosition;return x.createElement("div",{className:this.props.disabled?"input-slider-ManagedSlider__disabled--3Hiax":""},(null!==a||null!==this.props.maxLabel)&&x.createElement("div",{className:"input-slider-ManagedSlider__labels--1xJfl"},a,this.props.maxLabel),x.createElement("div",{className:"".concat("input-slider-ManagedSlider__sliderBox--3IKdy"," ").concat(this.props.tappable&&!this.props.disabled?"input-slider-ManagedSlider__tappable--bFocO":""),ref:this.setContainer,onMouseDown:function e(t){return n.snapTo(t,t.pageX)},onTouchStart:function e(t){return n.snapTo(t,t.touches[0].pageX)}},x.createElement("div",{className:"input-slider-ManagedSlider__bar--31tx2",style:this.getBarStyle(o,i)}),this.props.minEnabled&&x.createElement("span",{onTouchStart:function e(t){return n.grab(t,!0)},onMouseDown:function e(t){return n.grab(t,!0)},className:"input-slider-ManagedSlider__handle--odfOl",style:this.getHandleStyle(this.props.disabled?0:o,!t)}),x.createElement("span",{onTouchStart:function e(t){return n.grab(t,!1)},onMouseDown:function e(t){return n.grab(t,!1)},className:"input-slider-ManagedSlider__handle--odfOl",style:this.getHandleStyle(this.props.disabled?1:i,t)})),x.createElement(T.a,{callback:this.setPositionsFromContainer}))}}]),n}(x.Component);b()(H,"defaultProps",{onRelease:void 0,minLabel:null,maxLabel:null,exponent:1});var y=Object(P.connect)(function(e){return{isRtl:e.i18n.isRtl}})(H),C=function(e){function n(){var e,t;i()(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return t=d()(this,(e=p()(n)).call.apply(e,[this].concat(r))),b()(f()(f()(t)),"state",{minHandleValue:t.props.minHandleValue,maxHandleValue:t.props.maxHandleValue}),b()(f()(f()(t)),"onChange",function(e,n){t.setState({minHandleValue:e,maxHandleValue:n}),t.props.onChange(e,n)}),t}return h()(n,e),l()(n,[{key:"render",value:function e(){return x.createElement(y,r()({},this.props,{onChange:this.onChange,minHandleValue:this.state.minHandleValue,maxHandleValue:this.state.maxHandleValue}))}}]),n}(x.Component);b()(C,"defaultProps",{onRelease:void 0,minLabel:null,maxLabel:null});var V=Object(P.connect)(function(e){return{isRtl:e.i18n.isRtl}})(C);t.d(n,"Slider",function(){return V}),t.d(n,"ManagedSlider",function(){return y})}}});
//# sourceMappingURL=input.slider.42893d54ef.js.map