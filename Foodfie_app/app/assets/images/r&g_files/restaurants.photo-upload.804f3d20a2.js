(window.$WP=window.$WP||[]).push({id:"@ta/restaurants.photo-upload",d:["vendor-babel","vendor-react-libs","vendor-apollo-libs","ta-platform","@ta/media.upload","@ta/overlays.toast","@ta/public.content-uploader"],e:["./packages/restaurants/photo-upload/PhotoUpload.jsx"],x:{"./packages/restaurants/photo-upload/PhotoUpload.jsx":["LINK_UPLOADER","PHOTO_UPLOADER","default"]},m:{"./packages/restaurants/photo-upload/PhotoUpload.jsx":function(e,a,t){"use strict";t.r(a);var n=t("@babel/runtime/helpers/esm/objectSpread"),o=t.n(n),i=t("react"),l=t("react-apollo"),d=t("react-redux"),r=t("@ta/common.i18n"),u=t("@ta/media.upload"),s=t("@ta/overlays.toast"),c=t("@ta/public.content-uploader"),m={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ProfileLinkQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"userId"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"memberProfile"},arguments:[{kind:"Argument",name:{kind:"Name",value:"userId"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"userId"}}},{kind:"ObjectField",name:{kind:"Name",value:"site"},value:{kind:"EnumValue",value:"TRIPADVISOR"}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"route"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:138}};m.loc.source={body:"8ba5d70dc905"};var p=m;t.d(a,"LINK_UPLOADER",function(){return v}),t.d(a,"PHOTO_UPLOADER",function(){return k});var v="link-uploader-modal",k="photo-uploader-modal";a.default=Object(d.connect)(function(e,a){return o()({},a,{restaurantId:e.page.detailId,memberId:e.auth.loggedInUserId})})(function e(a){var t=a.locationScoped&&a.restaurantId>0?a.restaurantId:void 0;return i.createElement(i.Fragment,null,i.createElement(c.LinkPostUploader,{modalName:v,displaySuccessModal:!1}),i.createElement(l.ApolloConsumer,null,function(e){return i.createElement(s.Toaster,null,function(n){return i.createElement(u.MediaUploaderModal,{modalName:k,linkUploaderModalName:v,mediaType:"photo",locationId:t,pid:a.pid,onSubmit:function t(){!function e(a,t,n){t.query({query:p,variables:{userId:n}}).then(function(e){var t={node:i.createElement(i.Fragment,null,Object(r.localize)("restaurants_toast_photosUploaded")),cta:i.createElement("div",{onClick:function a(){var t,n,o,i=(null==e?void 0:null===(t=e.data)||void 0===t?void 0:null===(n=t.memberProfile)||void 0===n?void 0:null===(o=n.route)||void 0===o?void 0:o.url)||"/Profile";window.location.href="".concat(i,"?tab=photos")}},Object(r.localize)("restaurants_toast_viewPhotos"))};a(t)})}(n,e,a.memberId)}})})}))})}}});
//# sourceMappingURL=restaurants.photo-upload.804f3d20a2.js.map