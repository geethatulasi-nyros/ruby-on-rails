(window.$WP=window.$WP||[]).push({id:"@ta/social.links",d:["vendor-react-libs","ta-platform","@ta/tracking.interactions","ta-common","@ta/social.obfuscation","@ta/common.client"],e:["./packages/social/links/links.jsx"],x:{"./packages/social/links/links.jsx":["Linkify","WebsiteLink"]},m:{"./packages/social/links/links.jsx":function(e,n,t){"use strict";t.r(n);var i=t("react"),r=t("@ta/common.features"),c=t("@ta/common.routing"),a=t("@ta/common.i18n"),l=t("@ta/tracking.interactions"),o=function e(n){return n.replace(/^\s+/g,"")},s=function e(n,t,i,r){return"LinkReference"===n.__typename&&"NOT_OK"===n.categorization?Object(a.localize)("linkify_removed_v2"):t.substring(i,r)},u=function e(n){var t="#";return"UserReference"===n.__typename&&n.userName?t="/Profile/".concat(encodeURIComponent(n.userName)):"LinkReference"===n.__typename&&"NOT_OK"!==n.categorization&&n.encodedQualifiedUrl&&(t=n.encodedQualifiedUrl),t},f=function e(n,t,r,a,o,s,u,f){return i.createElement(l.InteractionLogger,{key:n},function(e){return"UserReference"===f.__typename?function e(n,t,r,a,l,o,s){var u=function e(t){n(t,"userReferenceClick",{targetUserId:s.userId}),a&&a(t),l&&l(t)};return o?function e(n,t,r){return i.createElement("span",{className:"social-links-Linkify__link_user_reference--2Auh8",dir:"ltr",onClick:function e(n){r(n),n.preventDefault(),n.stopPropagation(),window.location.href=t}},n)}(t,r,u):function e(n,t,r){return i.createElement(c.Link,{href:t,className:"social-links-Linkify__link_user_reference--2Auh8",dir:"ltr",onClick:r},n)}(t,r,u)}(e,t,r,a,s,u,f):function e(n,t,r,a,l,o){return"#"===t?o?i.createElement("span",null,n):i.createElement("div",null,n):i.createElement(c.ObfuscatedLink,{target:"_blank",onClick:function e(n){a&&a(n),l&&l(n,r),n.preventDefault(),n.stopPropagation()},className:"social-links-Linkify__external_link--3W_2V",useSpan:o,encodedUrl:t},n)}(t,r,f.url,a,o,u)})},k=function e(n){var t=n.text,c=n.socialReferences,a=n.useSpan,l=n.trim,k=n.onClick,m=n.onLinkReferenceClick,_=n.onUserReferenceClick;if(t&&c){var d=[];if(Object(r.featureIsEnabled)("social_at_referencing_profile_links")&&c.userReferences&&(d=d.concat(c.userReferences)),Object(r.featureIsEnabled)("linkify_urls")&&c.linkReferences&&(d=d.concat(c.linkReferences)),d.length){d.sort(function(e,n){return e.offset-n.offset});for(var p=0,g=[],b=0;b<d.length;b++){var v=d[b],L=v.offset,R=L+v.length,E=t.substring(p,L);if(l&&0===b&&(E=o(E)),g.push(E),p=L,R>t.length)break;var h=s(v,t,L,R),O="linkified_text_item_".concat(b),y=u(v);g.push(f(O,h,y,k,m,_,a,v)),p=R}if(p<t.length){var C=t.substring(p);l&&(C=function e(n){return n.replace(/\s+$/g,"")}(C)),g.push(C)}return i.createElement(i.Fragment,null,g)}}return i.createElement(i.Fragment,null,l?t.trim():t)};k.defaultProps={text:"",socialReferences:{},useSpan:!1,trim:!1,onClick:void 0,onLinkReferenceClick:void 0,onUserReferenceClick:void 0};var m=k,_=t("@ta/styleguide.icon"),d=t("@ta/social.obfuscation"),p=t("@ta/common.decode"),g=t.n(p),b=t("@ta/common.client"),v=t.n(b),L=function e(n){var t=n.uri;return t?i.createElement(v.a,null,function(e){var n=e?g()(t):"";return/^https?:\/\//.test(n)?i.createElement(d.ProtectedObfuscatedLink,{target:"_blank",encodedUrl:t,className:"ui_link ".concat("social-links-WebsiteLink__link--2j5lO")},i.createElement(_.Icon,{name:"internet",className:"social-links-WebsiteLink__icon--3OiCn"}),n.replace(/(?:\w+:\/\/)?([\w.]+)(?:\/.*)?/,"$1")):i.createElement(d.ProtectedObfuscatedLink,{target:"_blank",encodedUrl:t,className:"ui_link ".concat("social-links-WebsiteLink__link--2j5lO"),requiresHttp:!0},i.createElement(_.Icon,{name:"internet",className:"social-links-WebsiteLink__icon--3OiCn"}),n.replace(/(?:\w+:\/\/)?([\w.]+)(?:\/.*)?/,"$1"))}):null};t.d(n,"Linkify",function(){return m}),t.d(n,"WebsiteLink",function(){return L})}}});
//# sourceMappingURL=social.links.e0a0ed85e8.js.map