(window.$WP=window.$WP||[]).push({id:"@ta/common.accumulating-provider",d:["vendor-babel","vendor-react-libs"],e:["./packages/common/accumulating-provider/AccumulatingProvider.jsx"],x:{"./packages/common/accumulating-provider/AccumulatingProvider.jsx":["default"]},m:{"./packages/common/accumulating-provider/AccumulatingProvider.jsx":function(e,t,a){"use strict";a.r(t);var r=a("@babel/runtime/helpers/esm/toConsumableArray"),i=a.n(r),n=a("@babel/runtime/helpers/esm/classCallCheck"),s=a.n(n),u=a("@babel/runtime/helpers/esm/possibleConstructorReturn"),c=a.n(u),o=a("@babel/runtime/helpers/esm/getPrototypeOf"),l=a.n(o),m=a("@babel/runtime/helpers/esm/createClass"),p=a.n(m),d=a("@babel/runtime/helpers/esm/inherits"),h=a.n(d),b=a("@babel/runtime/helpers/esm/assertThisInitialized"),v=a.n(b),f=a("@babel/runtime/helpers/esm/defineProperty"),g=a.n(f),D=function(e){function t(e){var a;return s()(this,t),a=c()(this,l()(t).call(this,e)),g()(v()(v()(a)),"previousData",void 0),a.state={accumulatedData:a.props.data,ids:new Set(a.props.data.map(a.props.identifier))},a.previousData=a.props.data,a}return h()(t,e),p()(t,null,[{key:"getDerivedStateFromProps",value:function e(t,a){var r=t.data.filter(function(e){return!a.ids.has(t.identifier(e))});return 0===r.length?null:{accumulatedData:a.accumulatedData.concat(r),ids:new Set([].concat(i()(a.ids),i()(r.map(t.identifier))))}}}]),p()(t,[{key:"componentDidUpdate",value:function e(){this.props.onDataUpdate&&this.state.accumulatedData.length>this.previousData.length&&(this.previousData=this.state.accumulatedData,this.props.onDataUpdate(this.state.accumulatedData))}},{key:"render",value:function e(){return this.props.children(this.state.accumulatedData)}}]),t}(a("react").Component);t.default=D}}});
//# sourceMappingURL=common.accumulating-provider.a629475036.js.map