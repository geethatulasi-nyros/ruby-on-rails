(window.$WP=window.$WP||[]).push({id:"@ta/search.tracking",d:["vendor-babel","vendor-react-libs","ta-platform"],e:["./packages/search/tracking/SearchRecordTracker.jsx"],x:{"./packages/search/tracking/SearchRecordTracker.jsx":["default"]},m:{"./packages/search/tracking/SearchRecordTracker.jsx":function(e,r,a){"use strict";a.r(r);var t=a("@babel/runtime/helpers/esm/extends"),c=a.n(t),n=a("@babel/runtime/helpers/esm/objectSpread"),s=a.n(n),o=a("@babel/runtime/helpers/esm/classCallCheck"),i=a.n(o),h=a("@babel/runtime/helpers/esm/createClass"),l=a.n(h),p=a("@babel/runtime/helpers/esm/possibleConstructorReturn"),d=a.n(p),u=a("@babel/runtime/helpers/esm/getPrototypeOf"),k=a.n(u),m=a("@babel/runtime/helpers/esm/inherits"),R=a.n(m),b=a("@babel/runtime/helpers/esm/assertThisInitialized"),S=a.n(b),f=a("@babel/runtime/helpers/esm/defineProperty"),C=a.n(f),g=a("react"),x=a("@ta/common.tracking"),j=a.n(x),y=function(e){function r(){var e,a;i()(this,r);for(var t=arguments.length,c=new Array(t),n=0;n<t;n++)c[n]=arguments[n];return a=d()(this,(e=k()(r)).call.apply(e,[this].concat(c))),C()(S()(S()(a)),"onContextMenu",function(){a.trackSearchRecordRequestViaAjax(),j()(a.props)}),C()(S()(S()(a)),"getSearchRecordPayload",function(e){return new URLSearchParams(JSON.parse(JSON.stringify(e)))}),C()(S()(S()(a)),"click",function(){a.sendSearchRecordRequest()}),C()(S()(S()(a)),"sendSearchRecordRequest",function(){a.props.trackForNonRedirectClick?a.trackSearchRecordRequestViaAjax():a.trackSearchRecordRequestViaMEVTCookie()}),C()(S()(S()(a)),"trackSearchRecordRequestViaAjax",function(){a.props.searchRecordData&&fetch("/SearchRecord",{method:"POST",body:a.getSearchRecordPayload(a.props.searchRecordData),credentials:"same-origin"})}),C()(S()(S()(a)),"trackSearchRecordRequestViaMEVTCookie",function(){a.props.searchRecordData&&Object(x.addMevtCookie)(s()({},a.props.searchRecordData,{t:"sr"}))}),a}return R()(r,e),l()(r,[{key:"render",value:function e(){return g.createElement("span",{onClick:this.click,onContextMenu:this.onContextMenu},g.createElement(x.ClickTracker,c()({},this.props,{once:!1,forceAjax:!!this.props.trackForNonRedirectClick,useSpan:!!this.props.useSpan}),this.props.children))}}]),r}(g.Component);r.default=y}}});
//# sourceMappingURL=search.tracking.8d89161005.js.map