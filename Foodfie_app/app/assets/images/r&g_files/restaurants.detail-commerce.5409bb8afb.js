(window.$WP=window.$WP||[]).push({id:"@ta/restaurants.detail-commerce",d:["vendor-react-libs","ta-platform","ta-common","vendor-babel","@ta/overlays.modal","@ta/overlays.headers","@ta/common.sessionstorage","@ta/restaurants.booking-flow","@ta/restaurants.datepicker","@ta/overlays.popover","@ta/list.navigable-list","@ta/restaurants.tracking","@ta/overlays.managers"],e:["./packages/restaurants/detail-commerce/DetailCommerce.jsx"],x:{"./packages/restaurants/detail-commerce/DetailCommerce.jsx":["default"]},m:{"./packages/restaurants/detail-commerce/DetailCommerce.jsx":function(e,t,a){"use strict";a.r(t);var r=a("react"),s=a("@ta/common.api"),i=a("@ta/common.classnames"),o=a.n(i),n=a("@ta/styleguide.icon"),l=a("@ta/common.features"),c=a("@ta/common.routing"),m=a("@ta/common.i18n"),u=a("@ta/common.tracking"),p=a.n(u),d=a("@babel/runtime/helpers/esm/classCallCheck"),f=a.n(d),v=a("@babel/runtime/helpers/esm/createClass"),h=a.n(v),_=a("@babel/runtime/helpers/esm/possibleConstructorReturn"),y=a.n(_),b=a("@babel/runtime/helpers/esm/getPrototypeOf"),T=a.n(b),E=a("@babel/runtime/helpers/esm/inherits"),g=a.n(E),I=a("@babel/runtime/helpers/esm/assertThisInitialized"),k=a.n(I),A=a("@babel/runtime/helpers/esm/defineProperty"),S=a.n(A),O=a("@ta/overlays.modal"),D=a("@ta/overlays.headers"),C=a("@ta/styleguide.button"),N=a.n(C),P=a("@ta/common.state"),L=a("@ta/common.sessionstorage"),w=a.n(L),z=a("@ta/restaurants.booking-flow"),R=a.n(z),x=a("@babel/runtime/helpers/esm/objectSpread"),M=a.n(x),U=a("react-redux"),B=a("@ta/restaurants.datepicker"),j=a.n(B),V=a("@ta/overlays.popover"),F=a.n(V),K=a("@ta/list.navigable-list"),W={icon:"restaurants-detail-commerce-components-OverlayPickerList__icon--_6-xV",active:"restaurants-detail-commerce-components-OverlayPickerList__active--3NBXt",picker_option:"restaurants-detail-commerce-components-OverlayPickerList__picker_option--3APC4",popover:"restaurants-detail-commerce-components-OverlayPickerList__popover--ZJhyQ"},J=function(e){function t(){var e,a;f()(this,t);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return a=y()(this,(e=T()(t)).call.apply(e,[this].concat(i))),S()(k()(k()(a)),"onSelection",function(e){return function(t){a.props.update(t,e),a.props.close()}}),S()(k()(k()(a)),"getCheckmarkIfSelected",function(e){return e?r.createElement(n.Icon,{name:"checkmark",className:W.icon}):null}),S()(k()(k()(a)),"listItemClasses",function(e){var t=[W.picker_option];return e&&t.push(W.active),t.join(" ")}),S()(k()(k()(a)),"selectedItem",null),S()(k()(k()(a)),"popover",null),S()(k()(k()(a)),"createResultItems",function(){var e=[];return a.props.pickerOptions.forEach(function(t){var s=a.props.selectedKey===t.key;e.push(function(e,i){return r.createElement(K.NavigableListItem,{onSelection:a.onSelection(t),onMouseMove:i,active:e,key:t.key},r.createElement("div",{className:a.listItemClasses(e),ref:function e(t){s&&(a.selectedItem=t)}},a.getCheckmarkIfSelected(s),t.value))})}),e}),a}return g()(t,e),h()(t,[{key:"componentDidMount",value:function e(){this.selectedItem&&this.popover&&(this.popover.scrollTop=this.selectedItem.offsetTop-this.popover.offsetHeight/2+this.selectedItem.offsetHeight/2)}},{key:"render",value:function e(){var t=this;return r.createElement("div",{className:W.popover,ref:function e(a){t.popover=a}},r.createElement(K.NavigableList,null,this.createResultItems()))}}]),t}(r.Component),Q=function(e){function t(){var e,a;f()(this,t);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return a=y()(this,(e=T()(t)).call.apply(e,[this].concat(s))),S()(k()(k()(a)),"getDisplayItem",function(e){var t=e;return a.props.pickerOptions.forEach(function(r){e===r.key&&(a.props.useKeyForDisplay||(t=r.value))}),{displayValue:t}}),a}return g()(t,e),h()(t,[{key:"render",value:function e(){var t=this.props,a=t.icon,s=t.selectedKey,i=t.update,o=t.pickerOptions,l=t.alignEdge,c=t.shiftArrow,m=this.getDisplayItem(s).displayValue;return r.createElement(F.a,{closeButton:!1,below:!0,alignEdge:l,shiftArrow:c,contents:function e(t){return r.createElement(J,{close:t,update:i,pickerOptions:o,selectedKey:s})}},function(e,t){return r.createElement("div",{ref:e,onClick:function e(){t()},className:"restaurants-detail-commerce-components-OverlayPicker__wrap_box--24Whf"},r.createElement(n.Icon,{name:a,className:"restaurants-detail-commerce-components-OverlayPicker__picker_icon--1-oWj"}),m)})}}]),t}(r.Component);S()(Q,"defaultProps",{useKeyForDisplay:!1});var H=Q,Y={INCOMPLETE:"INCOMPLETE",COMPLETE:"COMPLETE",AVAILABLE:"AVAILABLE",LIMITED_AVAILABILITY:"LIMITED_AVAILABILITY",UNAVAILABLE:"UNAVAILABLE",ERROR:"ERROR"},G="currentRASOptions",Z="kickOffSearchOnce",q=function(e){function t(){var e,a;f()(this,t);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return a=y()(this,(e=T()(t)).call.apply(e,[this].concat(s))),S()(k()(k()(a)),"updateTime",function(e,t){a.props.isDefault||w.a.set(G,JSON.stringify({date:a.props.selectedDate,time:t.key,partySize:a.props.selectedPartySize})),Object(P.getStore)().dispatch(P.actions.travelerInfo.setEatTravelerTime(t.key))}),S()(k()(k()(a)),"updatePartySize",function(e,t){a.props.isDefault||w.a.set(G,JSON.stringify({date:a.props.selectedDate,time:a.props.selectedTime,partySize:t.key})),Object(P.getStore)().dispatch(P.actions.travelerInfo.setEatTravelerPartySize(t.key))}),a}return g()(t,e),h()(t,[{key:"render",value:function e(){return r.createElement(r.Fragment,null,r.createElement("div",{className:"restaurants-detail-commerce-components-DateTimePartySizePicker__wrap_box--2wGSi"},r.createElement("div",{className:o()("restaurants-detail-commerce-components-DateTimePartySizePicker__picker_container--2JhQD","restaurants-detail-commerce-components-DateTimePartySizePicker__small--104ZZ")},r.createElement(H,{selectedKey:this.props.selectedPartySize,useKeyForDisplay:!0,icon:"users",update:this.updatePartySize,pickerOptions:this.props.partySizeOptions,alignEdge:"left",shiftArrow:6})),r.createElement("div",{className:"restaurants-detail-commerce-components-DateTimePartySizePicker__picker_container--2JhQD"},r.createElement(j.a,{selectedDate:this.props.selectedDate,displayDate:this.props.displayDate,focused:!0,shiftX:16})),r.createElement("div",{className:"restaurants-detail-commerce-components-DateTimePartySizePicker__picker_container--2JhQD"},r.createElement(H,{selectedKey:this.props.selectedTime,icon:"clock",update:this.updateTime,pickerOptions:this.props.timeOptions,alignEdge:"right",shiftArrow:-6}))))}}]),t}(r.Component),X=Object(U.connect)(function e(t,a){return M()({},a,{selectedDate:t.travelerInfo.restaurants.date,displayDate:t.travelerInfo.restaurants.displayDate,selectedTime:t.travelerInfo.restaurants.time,selectedPartySize:t.travelerInfo.restaurants.partySize,isDefault:t.travelerInfo.restaurants.isDefault&&a.isDefault})},function e(t){return{dispatch:t}})(q),$=a("@ta/styleguide.loading"),ee=a("@ta/restaurants.tracking"),te=a("@ta/overlays.managers"),ae="restaurants-detail-commerce-components-Timeslots__timeslot--3M-kH",re=function(e){function t(){var e,a;f()(this,t);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return a=y()(this,(e=T()(t)).call.apply(e,[this].concat(i))),S()(k()(k()(a)),"timeslotsWrapper",r.createRef()),a}return g()(t,e),h()(t,[{key:"componentDidMount",value:function e(){this.scrollToClosestTimeslot()}},{key:"scrollToClosestTimeslot",value:function e(){var t=-1,a=0;if(this.props.timeslots)for(var r=0;r<this.props.timeslots.length;r++)(t<0||t>this.props.timeslots[r].distanceFromUserTimeInMinutes)&&(t=this.props.timeslots[r].distanceFromUserTimeInMinutes,a=r);var s=this.timeslotsWrapper.current,i=document.getElementsByClassName(ae),o=-1,n=-1;if(s&&(o=s.getBoundingClientRect().width-16),i.length>0&&(n=i[0].getBoundingClientRect().width+6),n>=0&&o>=0){var l=a*n-6-o/2+n/2;s&&(s.scrollLeft=l)}}},{key:"render",value:function e(){var t=this.props,a=t.timeslots,s=t.onTimeslotClick,i=t.partySize;return a&&r.createElement("div",{className:"restaurants-detail-commerce-components-Timeslots__timeslotsWrapper--bJdq9",ref:this.timeslotsWrapper},a.map(function(e){var t=e.discountPercentage;return e.isAvailable?r.createElement("div",{className:ae,key:e.dateTime},r.createElement(te.Opener,{name:"booking-modal"},function(a){return r.createElement("div",{className:o()("restaurants-detail-commerce-components-Timeslots__timeslotInnerWrapper--3hfTm"),onClick:s(a,e,i)},r.createElement(N.a,{size:"fullwidth"},r.createElement("span",{className:"restaurants-detail-commerce-components-Timeslots__timeslotText--2SEAI"},e.displayTime),t&&r.createElement("div",{className:"restaurants-detail-commerce-components-Timeslots__discount--2JMke"},e.discountPercentage)))})):r.createElement("div",{className:ae,key:e.dateTime},r.createElement("div",{className:"restaurants-detail-commerce-components-Timeslots__timeslotInnerWrapper--3hfTm"},r.createElement(N.a,{size:"fullwidth",disabled:!0},r.createElement("span",{className:"restaurants-detail-commerce-components-Timeslots__timeslotText--2SEAI"},e.displayTime),t&&r.createElement("div",{className:"restaurants-detail-commerce-components-Timeslots__discount--2JMke"},e.discountPercentage))))}))}}]),t}(r.Component),se=function e(t,a,r,s,i,o,n,l){var c=new URLSearchParams;c.append("reserveDate",r),c.append("reserveTime",s),c.append("partySize",i),fetch("/data/1.0/restaurants/".concat(t,"/commerce/providers/").concat(a,"/getTimeslots?").concat(c.toString()),{method:"GET",credentials:"same-origin",timeout:1e3}).then(function(e){return e.json()}).then(function(c){if(c&&c.status)switch(c.status){case Y.INCOMPLETE:if(l-1>0)return void setTimeout(function(){e(t,a,r,s,i,o,n,l-1)},1e3);break;case Y.COMPLETE:if(c.onlyAvailableTimeslots)return void o(c.onlyAvailableTimeslots,c.availableAndUnavailableTimeslots,c.errorMessage);break;case Y.ERROR:if(c.errorMessage)return void n(c.errorMessage);break;default:n()}n()},function(){return n()})},ie=function(e){function t(e){var a;return f()(this,t),a=y()(this,T()(t).call(this,e)),S()(k()(k()(a)),"onSuccess",function(e,t){var r={},s={};e.length>0?(r={timeslots:e,status:Y.AVAILABLE},s={timeslots:t,status:a.hasAvailableTimeslot(t)?Y.AVAILABLE:Y.UNAVAILABLE,errorMessage:a.hasAvailableTimeslot(t)?void 0:Object(m.localize)("restaurants_no_avail_02282019",{RestaurantName:a.props.restaurantName})},a.props.displaySpecialOfferBanner(e.some(function(e){return e.discountPercentage})),a.shouldShowAvailableAndUnavailableTimeslotsInfo()&&a.props.displaySpecialOfferBanner(t.some(function(e){return e.discountPercentage})),Object(P.getStore)().dispatch(P.actions.travelerInfo.setEatTravelerDefaultStatus(!1))):(r={errorMessage:Object(m.localize)("restaurants_no_avail_02282019",{RestaurantName:a.props.restaurantName}),status:Y.UNAVAILABLE},s={errorMessage:Object(m.localize)("restaurants_no_avail_02282019",{RestaurantName:a.props.restaurantName}),status:Y.UNAVAILABLE},a.props.displaySpecialOfferBanner(!1)),a.setState({onlyAvailableTimeslotsInfo:r,availableAndUnavailableTimeslotsInfo:s})}),S()(k()(k()(a)),"onFailure",function(e){a.setState({onlyAvailableTimeslotsInfo:{errorMessage:e||Object(m.localize)("mobile_restaurant_reserve_error_general_ffffeaf4"),status:Y.ERROR},availableAndUnavailableTimeslotsInfo:{errorMessage:e||Object(m.localize)("mobile_restaurant_reserve_error_general_ffffeaf4"),status:Y.ERROR}}),a.props.displaySpecialOfferBanner(!1)}),S()(k()(k()(a)),"shouldShowAvailableAndUnavailableTimeslotsInfo",function(){return"DESKTOP"===a.props.viewportCategory||Object(l.featureIsEnabled)("mw_unavailable_timeslots")}),S()(k()(k()(a)),"hasAvailableTimeslot",function(e){return e&&Array.isArray(e)&&e.some(function(e){return e.isAvailable})}),S()(k()(k()(a)),"searchTimeslotsClick",function(e,t,r,s,i,o,n){return function(){w.a.set(G,JSON.stringify({date:r,time:s,partySize:i})),Object(P.getStore)().dispatch(P.actions.travelerInfo.setEatTravelerDefaultStatus(!1)),a.setState({onlyAvailableTimeslotsInfo:{status:Y.INCOMPLETE},availableAndUnavailableTimeslotsInfo:{status:Y.INCOMPLETE}}),se(e,t,r,s,i,o,n,10)}}),a.state={onlyAvailableTimeslotsInfo:{status:Y.INCOMPLETE},availableAndUnavailableTimeslotsInfo:{status:Y.INCOMPLETE}},a.props.isDefault||w.a.set(Z,!0),a}return g()(t,e),h()(t,[{key:"componentDidMount",value:function e(){se(this.props.detailId,this.props.providerId,this.props.selectedDate,this.props.selectedTime,this.props.selectedPartySize,this.onSuccess,this.onFailure,10)}},{key:"componentDidUpdate",value:function e(t){if(this.props.isDefault&&t.isDefault||this.props.selectedDate===t.selectedDate&&this.props.selectedTime===t.selectedTime&&this.props.selectedPartySize===t.selectedPartySize){if(this.props.viewportCategory!==t.viewportCategory){var a=this.shouldShowAvailableAndUnavailableTimeslotsInfo()?this.state.availableAndUnavailableTimeslotsInfo:this.state.onlyAvailableTimeslotsInfo;this.props.displaySpecialOfferBanner(void 0!==a&&Array.isArray(a.timeslots)&&a.timeslots.some(function(e){return e.discountPercentage}))}}else this.setState({onlyAvailableTimeslotsInfo:{status:Y.INCOMPLETE},availableAndUnavailableTimeslotsInfo:{status:Y.INCOMPLETE}}),se(this.props.detailId,this.props.providerId,this.props.selectedDate,this.props.selectedTime,this.props.selectedPartySize,this.onSuccess,this.onFailure,10);this.props.isDefault&&!t.isDefault&&w.a.set(Z,!0)}},{key:"render",value:function e(){var t=this.shouldShowAvailableAndUnavailableTimeslotsInfo()?this.state.availableAndUnavailableTimeslotsInfo:this.state.onlyAvailableTimeslotsInfo;return t&&t.status===Y.AVAILABLE&&t.timeslots?r.createElement(re,{timeslots:t.timeslots,onTimeslotClick:this.props.onTimeslotClick,partySize:this.props.selectedPartySize}):this.props.isDefault?r.createElement("div",{className:"restaurants-detail-commerce-components-TimeslotSection__findATable--1_L2f"},r.createElement(N.a,{key:"search",size:"fullwidth",onClick:this.searchTimeslotsClick(this.props.detailId,this.props.providerId,this.props.selectedDate,this.props.selectedTime,this.props.selectedPartySize,this.onSuccess,this.onFailure)},Object(m.localize)("findatable_fffff863"))):(t&&t.status===Y.UNAVAILABLE||t&&t.status===Y.ERROR)&&t&&t.errorMessage?r.createElement(u.Track,{mount:{module:"RAC_result",action:t.status===Y.UNAVAILABLE?"no_availability":"error",context:this.props.providerName,once:!1}},r.createElement("div",{className:"restaurants-detail-commerce-components-TimeslotSection__errorWrapper--17-Qh"},r.createElement(n.Icon,{name:"exclamation-circle-fill",className:"restaurants-detail-commerce-components-TimeslotSection__icon--2TPKC"}),Object(m.unescaped)(t.errorMessage)),r.createElement(c.ObfuscatedLink,{encodedUrl:this.props.providerUrl,target:"_blank",className:"restaurants-detail-commerce-components-TimeslotSection__buttonWrapper--2pB0K"},r.createElement(N.a,{type:"primary",size:"fullwidth"},Object(m.localize)("seeavailabletimes_ffffdd28",{0:this.props.providerName}))),this.props.seeAllRestaurantsUrl&&r.createElement(ee.RDetailClickTracker,{action:"no_availability_list_pivot_click"},r.createElement("a",{href:this.props.seeAllRestaurantsUrl,className:"restaurants-detail-commerce-components-TimeslotSection__buttonWrapper--2pB0K"},r.createElement(N.a,{type:"secondary",size:"fullwidth"},Object(m.localize)("find_other_available_restaurants"))))):r.createElement("span",{className:"restaurants-detail-commerce-components-TimeslotSection__loadingWrapper--1JZOC"},r.createElement($.LoadingBubbles,null))}}]),t}(r.Component),oe=Object(U.connect)(function e(t,a){return M()({},a,{selectedDate:t.travelerInfo.restaurants.date,selectedTime:t.travelerInfo.restaurants.time,selectedPartySize:t.travelerInfo.restaurants.partySize,isDefault:t.travelerInfo.restaurants.isDefault&&a.isDefault})},function e(t){return{dispatch:t}})(ie),ne=function(e){function t(){var e,a;f()(this,t);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return a=y()(this,(e=T()(t)).call.apply(e,[this].concat(s))),S()(k()(k()(a)),"state",{selectedTimeslot:{dateTime:"",displayTime:"",isAvailable:!0,offerId:"0",securityToken:"",discountPercentage:"",distanceFromUserTimeInMinutes:0},selectedPartySize:"0",isDefault:!0,shouldDisplaySpecialOfferBanner:!1}),S()(k()(k()(a)),"startBookingFlow",function(e,t,r){return function(){a.setState({selectedTimeslot:t,selectedPartySize:r}),e()}}),S()(k()(k()(a)),"displaySpecialOfferText",function(e){a.setState({shouldDisplaySpecialOfferBanner:e})}),a}return g()(t,e),h()(t,[{key:"componentDidMount",value:function e(){var t=w.a.get(G);if(t){var a=t.time,r=t.partySize;this.state.isDefault=!1,Object(P.getStore)().dispatch(P.actions.travelerInfo.setEatTravelerTime(a)),Object(P.getStore)().dispatch(P.actions.travelerInfo.setEatTravelerPartySize(r))}}},{key:"render",value:function e(){var t=this.props,a=t.provider,s=t.detailId,i=t.restaurantName,d="";return this.props.primaryPhoto&&(this.props.primaryPhoto.small&&this.props.primaryPhoto.small.url?d=this.props.primaryPhoto.small.url:this.props.primaryPhoto.thumbnail&&this.props.primaryPhoto.thumbnail.url&&(d=this.props.primaryPhoto.thumbnail.url)),a&&a.bookable?r.createElement(r.Fragment,null,this.state.shouldDisplaySpecialOfferBanner&&r.createElement("div",{className:"restaurants-detail-commerce-components-SearchInfo__specialOfferCta--3UN9p"},a.specialOfferText),r.createElement(X,{detailId:s,providerId:a.id,timeOptions:a.pickerOptions.timeOptions,partySizeOptions:a.pickerOptions.partySizeOptions,isDefault:this.state.isDefault}),r.createElement(oe,{detailId:s,restaurantName:i,providerId:a.id,providerName:a.name,providerUrl:a.url,isDefault:this.state.isDefault,onTimeslotClick:this.startBookingFlow,seeAllRestaurantsUrl:a.racable?a.seeAllRestaurantsUrl:"",displaySpecialOfferBanner:this.displaySpecialOfferText,viewportCategory:this.props.viewportCategory}),r.createElement(O.Modal,{name:"booking-modal",header:r.createElement(D.TitleBar,{displayType:"LEFT_ALIGN_GRAY"},Object(m.localize)("Native_Restauarants_Reserve_a_Table")),onClose:function e(){return p()({module:"Restaurant_bookingform",action:"close",context:a.name})}},r.createElement(u.Track,{mount:{module:"Restaurant_bookingform",action:"open",context:a.name,once:!1}},r.createElement(R.a,{detailId:s,restaurantName:i,restaurantPhotoUrl:d,providerId:a.id,providerName:a.name,providerLogoUrl:a.logo,providerUrl:a.url,datetime:this.state.selectedTimeslot.dateTime,partySize:this.state.selectedPartySize,canLockTimeslot:a.lockable,offerId:this.state.selectedTimeslot.offerId,hasSpecialOffer:!!this.state.selectedTimeslot.discountPercentage,securityToken:this.state.selectedTimeslot.securityToken,seeAllRestaurantsUrl:a.seeAllRestaurantsUrl})))):a?r.createElement(c.ObfuscatedLink,{encodedUrl:a.url,target:"_blank",className:o()("restaurants-detail-commerce-components-SearchInfo__clickOffButton--3D-kl",Object(l.featureIsEnabled)("rr_commerce_clickoff_tighter_padding")&&"MOBILE"===this.props.viewportCategory?"restaurants-detail-commerce-components-SearchInfo__noPaddingButton--2lCGt":null)},r.createElement(N.a,{size:"fullwidth"},a.buttonText,Object(l.featureIsEnabled)("rr_commerce_clickoff_show_arrow_on_button")&&"MOBILE"===this.props.viewportCategory&&r.createElement(n.Icon,{className:"restaurants-detail-commerce-components-SearchInfo__upLinkIcon--8V39J",name:"external-link-no-box"}))):null}}]),t}(r.Component),le=function e(t){return t.logo&&"no_brand"!==t.logo?r.createElement("img",{src:t.logo,className:"restaurants-detail-commerce-DetailCommerce__image_logo--2h9eD"}):t.name?r.createElement("div",{className:"restaurants-detail-commerce-DetailCommerce__text_logo--3fKom"},t.name):null},ce=function e(t,a){var r=[];return t&&t.nameInCommerceTool&&r.push(t.nameInCommerceTool),a&&a.nameInCommerceTool&&r.push(a.nameInCommerceTool),r},me=function e(t){var a=t.providerInfoSlot1,s=t.providerInfoSlot2,i=[];return a&&i.push(r.createElement("div",{key:a.name,className:"restaurants-detail-commerce-DetailCommerce__info_box--1AHsV"},function e(t,a){return Object(l.featureIsEnabled)("rr_commerce_clickoff_show_only_order_online_button")&&"MOBILE"===a.viewportCategory?null:r.createElement(r.Fragment,null,t.disclaimerText&&r.createElement("div",{className:"restaurants-detail-commerce-DetailCommerce__disclaimer--3avDQ"},t.disclaimerText),r.createElement("div",{className:"restaurants-detail-commerce-DetailCommerce__header_region--9WLKd"},r.createElement("div",{className:"restaurants-detail-commerce-DetailCommerce__text_region--bYmUu"},t.headerText),r.createElement("div",{className:"restaurants-detail-commerce-DetailCommerce__logo_region--2Im4c"},le(t))),t.subText&&r.createElement("div",{className:"restaurants-detail-commerce-DetailCommerce__subText--1d3Kc"},t.subText))}(a,t),r.createElement(ne,{detailId:t.detailId,restaurantName:t.restaurantName,primaryPhoto:t.primaryPhoto,provider:a,viewportCategory:t.viewportCategory}))),s&&i.push(r.createElement(r.Fragment,null,r.createElement("div",{className:"restaurants-detail-commerce-DetailCommerce__divider_section--34mIB"},r.createElement("div",{className:o()("restaurants-detail-commerce-DetailCommerce__divider--2lRnM","restaurants-detail-commerce-DetailCommerce__divider_left--1tPqY")}),Object(m.localize)("restaurant_booking_delivery_separator"),r.createElement("div",{className:o()("restaurants-detail-commerce-DetailCommerce__divider--2lRnM","restaurants-detail-commerce-DetailCommerce__divider_right--18oPl")})),r.createElement("div",{key:s.name,className:"restaurants-detail-commerce-DetailCommerce__info_box--1AHsV"},s.disclaimerText&&r.createElement("div",{className:"restaurants-detail-commerce-DetailCommerce__disclaimer--3avDQ"},s.disclaimerText),r.createElement(c.ObfuscatedLink,{encodedUrl:s.url,target:"_blank"},r.createElement("div",{className:"restaurants-detail-commerce-DetailCommerce__header_region--9WLKd"},r.createElement("div",{className:"restaurants-detail-commerce-DetailCommerce__text_region--bYmUu"},s.headerText),r.createElement("div",{className:"restaurants-detail-commerce-DetailCommerce__logo_region--2Im4c"},le(s),r.createElement(n.Icon,{className:"restaurants-detail-commerce-DetailCommerce__externalLinkIcon--1TI50",name:"external-link-no-box"})))),s.subText&&r.createElement("div",{className:"restaurants-detail-commerce-DetailCommerce__subText--1d3Kc"},s.subText)))),i};t.default=Object(s.bind)(function(e,t){var a=t("/data/1.0/location/".concat(e.page.detailId)),r=t("/data/1.0/restaurants/".concat(e.page.detailId,"/commerce/providers"));return function(){var t=a.get().data,s=r.get().data;return{detailId:e.page.detailId,restaurantName:t&&t.name||"",primaryPhoto:t&&t.photo&&t.photo.images||{small:{url:""},thumbnail:{url:""}},providerInfoSlot1:s?s.slot1Offer:null,providerInfoSlot2:s?s.slot2Offer:null,viewportCategory:e.meta.device.viewportCategory}}})(function e(t){var a=Object(l.featureIsEnabled)("restaurant_gray_background")?"restaurants-detail-commerce-DetailCommerce__gray_background--HHX2Q":"";return r.createElement("div",{className:o()(a,"restaurants-detail-commerce-DetailCommerce__outer_box--FsZ4L")},r.createElement("div",{className:"restaurants-detail-commerce-DetailCommerce__border_box--3xoRC"},r.createElement(u.Track,{visible:{module:"Restaurant_Review",action:"commerce_impression",context:ce(t.providerInfoSlot1,t.providerInfoSlot2).join(" | "),once:!0},className:"restaurants-detail-commerce-DetailCommerce__tracking_box--1qVbT"},r.createElement(me,t))))})}}});
//# sourceMappingURL=restaurants.detail-commerce.5409bb8afb.js.map