(window.$WP=window.$WP||[]).push({id:"ta-common",d:["vendor-babel","vendor-react-libs","ta-platform","exif-js","@ta/input.drop-zone","@ta/overlays.managers"],e:["527f7"],p:{"@ta/media.image":"./packages/media/image/image.jsx","@ta/media.common":"./packages/media/common/common.jsx","@ta/loading.error":"./packages/loading/error/index.js","@ta/failover.readonly":"./packages/failover/readonly/index.jsx","@ta/styleguide.bubble-rating":"./packages/styleguide/bubble-rating/index.jsx","@ta/styleguide.icon":"./packages/styleguide/icon/index.jsx","@ta/styleguide.loading":"./packages/styleguide/loading/index.jsx","@ta/styleguide.avatar":"./packages/styleguide/avatar/index.jsx","@ta/styleguide.button":"./packages/styleguide/button/Button.jsx","@ta/common.string":"./packages/common/string/string.jsx"},x:{"./packages/common/string/string.jsx":["inputLength","stringHash","uuid"],"./packages/failover/readonly/index.jsx":["HideOnReadonly"],"./packages/loading/error/index.js":["LoadingErrorMessage","LoadingErrorBanner","RenderErrorBanner"],"./packages/media/common/common.jsx":["getImageDimensions","getGeoPointFromExif","base64ToUint8Array","cropImageToJpegUrl","orientationValueToDegrees","photoOrientation","rotateImageIfNeeded","mediaType","checkMediaReady","getImageDataURL","getVideoTrackingModule","getSizeWithMostPixels","supportedImageTypes","supportedVideoTypes","boundNumber","Point","Dimension","VideoPlayerProvider","VideoPlayerConsumer","ActionTypes","getMediaFilterToRetrieveAllPhotos","getMediaFilterToRetrieveDefaultPhotos"],"./packages/media/image/LazyImage.jsx":["a"],"./packages/media/image/image.jsx":["ResponsiveImage","pickSourceForSize","LazyImage"],"./packages/styleguide/avatar/index.jsx":["Avatar"],"./packages/styleguide/bubble-rating/index.jsx":["BubbleRating","BubbleRatingWithReviewCount","BubbleRatingWithLinkedReviewCount","BubbleRatingWithLabel"],"./packages/styleguide/button/Button.jsx":["default"],"./packages/styleguide/icon/Icon.jsx":["a"],"./packages/styleguide/icon/index.jsx":["Icon","IconStacked","T4BIcon"],"./packages/styleguide/loading/index.jsx":["LoadingBar","LoadingBubbles","LoadingSpinner"]},m:{"./packages/common/string/string.jsx":function(e,t,n){"use strict";n.r(t),n.d(t,"inputLength",function(){return a}),n.d(t,"stringHash",function(){return i}),n.d(t,"uuid",function(){return r});var a=function e(t){if(!t)return 0;for(var n=0,a=t.length-1;a>=0;a--){n+=1;var i=t.charCodeAt(a);(i>=19968&&i<=40959||i>=12352&&i<=12543||i>=44032&&i<=55295)&&(n+=1)}return n},i=function e(t){for(var n=5381,a=t.length;a;)n=33*n^t.charCodeAt(--a);return n>>>0},r=function e(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}},"./packages/failover/readonly/index.jsx":function(e,t,n){"use strict";n.r(t),n("react");var a=n("react-redux"),i=Object(a.connect)(function(e){return{isReadonlyMode:e.meta.readonlyMode}})(function e(t){var n=t.isReadonlyMode,a=t.replaceWith,i=t.children;return n?void 0!==a?a:null:i});n.d(t,"HideOnReadonly",function(){return i})},"./packages/loading/error/index.js":function(e,t,n){"use strict";n.r(t);var a=n("react"),i=n("./packages/styleguide/button/Button.jsx"),r=n("@ta/common.i18n"),o=function e(t){return a.createElement("div",{className:"loading-error-LoadingErrorMessage__error_block--3EMwD"},a.createElement("p",{className:"loading-error-LoadingErrorMessage__error_heading--aYyYz"},Object(r.localize)("social_loading_error_1")," "),a.createElement("p",{className:"loading-error-LoadingErrorMessage__error_body--1-Lfo"},Object(r.localize)("soical_loading_error_2")," "),a.createElement(i.default,{onClick:function e(){return t.refetch()},type:"primary",size:"large"},a.createElement("span",null,Object(r.localize)("mobile_try_again")," ")))},l=n("@ta/overlays.managers"),s=function e(t){var n=t.children;return a.createElement(l.Opener,{name:"__ERROR__",local:!0},n)},c=function e(t){var n=t.refetch;return a.createElement(l.Local,{name:"__ERROR__"},a.createElement("div",{className:"".concat("loading-error-LoadingErrorBanner__error_block--36B8-"," ui_card")},a.createElement("div",{className:"loading-error-LoadingErrorBanner__error_heading--21NVA"},Object(r.localize)("social_loading_error_1")," ",Object(r.localize)("soical_loading_error_2")," "),a.createElement(i.default,{onClick:function e(){n&&n()},type:"primary",size:"default"},Object(r.localize)("mobile_try_again")," ")))};c.defaultProps={refetch:function e(){window.location.reload()}};var u=c;n.d(t,"LoadingErrorMessage",function(){return o}),n.d(t,"LoadingErrorBanner",function(){return u}),n.d(t,"RenderErrorBanner",function(){return s})},"./packages/media/common/common.jsx":function(e,t,n){"use strict";n.r(t);var a=n("@babel/runtime/helpers/esm/slicedToArray"),i=n.n(a),r=n("exif-js"),o=n.n(r),l=n("@babel/runtime/helpers/esm/classCallCheck"),s=n.n(l),c=n("@babel/runtime/helpers/esm/defineProperty"),u=n.n(c),d=[".jpg",".jpeg",".gif",".png"],g=[".mp4",".m4v",".mov"],m=function e(t){var n;return t.forEach(function(e){n?n.width*n.height<e.width*e.height&&(n=e):n=e}),n},h=function e(t,n){var a=this;s()(this,e),u()(this,"x",void 0),u()(this,"y",void 0),u()(this,"distanceFrom",function(e){return Math.sqrt(Math.pow(a.x-e.x,2)+Math.pow(a.y-e.y,2))}),this.x=t,this.y=n},f=function e(t,n){var a=this;s()(this,e),u()(this,"width",void 0),u()(this,"height",void 0),u()(this,"equals",function(e){return e&&a.width===e.width&&a.height===e.height}),u()(this,"aspectRatio",function(){return a.width/a.height}),this.width=t,this.height=n},p=function e(t,n,a){var i=Math.max(t,n);return Math.min(i,a)},v=function e(t){var n="ta_video";return t&&("Home"===t.page?n="home_video":"Profile"===t.page&&(n="profile_video")),n},b=new Map([["N",1],["S",-1]]),y=new Map([["E",1],["W",-1]]),k=function e(t,n){var a=i()(t,3),r=a[0],o=a[1],l=a[2],s=r+(o?o/60:0)+(l?l/3600:0);return n<0?-s:s},_=function e(t,n){var a=document.createElement("img");a.onload=function(){o.a.getData(this,function(){var e=o.a.getTag(this,"GPSLatitude"),t=o.a.getTag(this,"GPSLatitudeRef"),a=b.get(t),i=o.a.getTag(this,"GPSLongitude"),r=o.a.getTag(this,"GPSLongitudeRef"),l=y.get(r);if(e&&a&&i&&l){var s=k(e,a),c=k(i,l);n({latitude:s,longitude:c})}})};var i=document.createAttribute("src");i.value=t,a.setAttributeNode(i)},x=function e(t,n){var a=new Image;a.onload=function(){n(new f(this.width,this.height))},a.src=t},w=n("@ta/input.drop-zone"),I={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PhotoDetails"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"photos"},arguments:[{kind:"Argument",name:{kind:"Name",value:"photoIds"},value:{kind:"ListValue",values:[{kind:"Variable",name:{kind:"Name",value:"id"}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"statuses"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"photoSizes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:119}};I.loc.source={body:"ac43ce855b4b"};var S=I,E=function e(t){for(var n=atob(t.split(",")[1]),a=[],i=0;i<n.length;)a.push(n.charCodeAt(i)),i+=1;return new Uint8Array(a)},C=function e(t,n,a,i,r,o){var l=document.createElement("canvas");return l.width=r,l.height=o,l.getContext("2d").drawImage(t,a,i,r,o,0,0,r,o),"image/png"===n?l.toDataURL():l.toDataURL("image/jpeg")},R=function e(t,n){var a=new Image;a.onload=function(){var e=document.createElement("canvas");e.width=a.width,e.height=a.height;var t=e.getContext("2d");t.drawImage(a,0,0),t.save(),n(e.toDataURL())},a.src=t},z=function e(t){return 1===t?0:8===t?270:3===t?180:6===t?90:0},L=function e(t,n){var a=new FileReader;a.onload=function(e){var t=new DataView(e.target.result);if(65496!==t.getUint16(0,!1))return n(-2);for(var a=t.byteLength,i=2;i<a;){if(t.getUint16(i+2,!1)<=8)return n(-1);var r=t.getUint16(i,!1);if(i+=2,65505===r){if(i+=2,1165519206!==t.getUint32(i,!1))return n(-1);var o=18761===t.getUint16(i+=6,!1);i+=t.getUint32(i+4,o);var l=t.getUint16(i,o);i+=2;for(var s=0;s<l;s++)if(274===t.getUint16(i+12*s,o))return n(t.getUint16(i+12*s+8,o))}else{if(65280!=(65280&r))break;i+=t.getUint16(i,!1)}}return n(-1)},a.readAsArrayBuffer(t)},P=function e(t,n){L(t,function(e){var a=z(e);if(0===a)n(URL.createObjectURL(t));else{var i=URL.createObjectURL(t);!function e(t,n,a){var i=new Image;i.onload=function(){var e=document.createElement("canvas");e.width=90===Math.abs(n%180)?i.height:i.width,e.height=90===Math.abs(n%180)?i.width:i.height;var t=e.getContext("2d");t.save(),t.translate(e.width/2,e.height/2),t.rotate(n*Math.PI/180),t.drawImage(i,-i.width/2,-i.height/2),t.restore(),a(e.toDataURL())},i.src=t}(i,a,function(e){URL.revokeObjectURL(i);var t=new Blob([E(e)],{type:"image/png"});n(URL.createObjectURL(t))})}})},j=function e(t){return d.includes(Object(w.fileExtentsion)(t))?"photo":g.includes(Object(w.fileExtentsion)(t))?"video":"unknown"},N=function e(t,n,a,i,r){n>a?r():setTimeout(function(){i.query({query:S,variables:{id:t},fetchPolicy:"network-only"}).then(function(o){if(o.data&&o.data.photos&&o.data.photos[0]){var l=o.data.photos[0].statuses;l&&0!==l.length&&!l.includes("UPLOADING")?r():e(t,n+1,a,i,r)}else e(t,n+1,a,i,r)})},1e3)},U=n("@babel/runtime/helpers/esm/createClass"),B=n.n(U),T=n("@babel/runtime/helpers/esm/possibleConstructorReturn"),O=n.n(T),A=n("@babel/runtime/helpers/esm/getPrototypeOf"),D=n.n(A),M=n("@babel/runtime/helpers/esm/inherits"),V=n.n(M),F=n("@babel/runtime/helpers/esm/assertThisInitialized"),W=n.n(F),H=n("@babel/runtime/helpers/esm/objectSpread"),G=n.n(H),q=n("react"),K=n("@ta/common.object-util"),J=q.createContext(null),Y={VIDEO_VISIBLE:"VIDEO_VISIBLE",VIDEO_INVISIBLE:"VIDEO_INVISIBLE"},Z=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function e(){return Object.freeze({})}(),n=arguments.length>1?arguments[1]:void 0;switch(n.type){case Y.VIDEO_VISIBLE:return!t.activePlayer||t.activePlayer!==n.player&&t.activePlayer.state.userInteracted?G()({},t,{activePlayer:n.player}):t.activePlayer!==n.player&&n.player.elemPosition+50<t.activePlayer.elemPosition?G()({},t,{activePlayer:n.player}):t;case Y.VIDEO_INVISIBLE:return t.activePlayer===n.player?G()({},t,{activePlayer:void 0}):t;default:return t}},$=function(e){function t(){var e,n;s()(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return n=O()(this,(e=D()(t)).call.apply(e,[this].concat(i))),u()(W()(W()(n)),"state",{activePlayer:void 0,dispatch:function e(t){var a=Z(n.state,t);Object(K.shallowEquals)(a,n.state)||n.setState(a)}}),n}return V()(t,e),B()(t,[{key:"render",value:function e(){var t=this.state,n=this.props.children;return q.createElement(J.Provider,{value:t},n)}}]),t}(q.PureComponent),Q=J.Consumer,X=n("@ta/common.features"),ee=function e(){return{mediaGroup:Object(X.featureIsEnabled)("display_restricted_partner_photos")||Object(X.featureIsEnabled)("bcom_partner_photos")?"ALL_INCLUDING_RESTRICTED":"ALL_UNRESTRICTED"}},te=function e(){return{mediaGroup:Object(X.featureIsEnabled)("display_restricted_partner_photos")||Object(X.featureIsEnabled)("bcom_partner_photos")?"DEFAULT_INCLUDING_RESTRICTED":"DEFAULT"}};n.d(t,"getImageDimensions",function(){return x}),n.d(t,"getGeoPointFromExif",function(){return _}),n.d(t,"base64ToUint8Array",function(){return E}),n.d(t,"cropImageToJpegUrl",function(){return C}),n.d(t,"orientationValueToDegrees",function(){return z}),n.d(t,"photoOrientation",function(){return L}),n.d(t,"rotateImageIfNeeded",function(){return P}),n.d(t,"mediaType",function(){return j}),n.d(t,"checkMediaReady",function(){return N}),n.d(t,"getImageDataURL",function(){return R}),n.d(t,"getVideoTrackingModule",function(){return v}),n.d(t,"getSizeWithMostPixels",function(){return m}),n.d(t,"supportedImageTypes",function(){return d}),n.d(t,"supportedVideoTypes",function(){return g}),n.d(t,"boundNumber",function(){return p}),n.d(t,"Point",function(){return h}),n.d(t,"Dimension",function(){return f}),n.d(t,"VideoPlayerProvider",function(){return $}),n.d(t,"VideoPlayerConsumer",function(){return Q}),n.d(t,"ActionTypes",function(){return Y}),n.d(t,"getMediaFilterToRetrieveAllPhotos",function(){return ee}),n.d(t,"getMediaFilterToRetrieveDefaultPhotos",function(){return te})},"./packages/media/image/LazyImage.jsx":function(e,t,n){"use strict";n.d(t,"a",function(){return w});var a=n("@babel/runtime/helpers/esm/extends"),i=n.n(a),r=n("@babel/runtime/helpers/esm/objectSpread"),o=n.n(r),l=n("@babel/runtime/helpers/esm/classCallCheck"),s=n.n(l),c=n("@babel/runtime/helpers/esm/createClass"),u=n.n(c),d=n("@babel/runtime/helpers/esm/possibleConstructorReturn"),g=n.n(d),m=n("@babel/runtime/helpers/esm/getPrototypeOf"),h=n.n(m),f=n("@babel/runtime/helpers/esm/inherits"),p=n.n(f),v=n("@babel/runtime/helpers/esm/assertThisInitialized"),b=n.n(v),y=n("@babel/runtime/helpers/esm/defineProperty"),k=n.n(y),_=n("react"),x=n("@ta/common.is-visible"),w=function(e){function t(){var e,n;s()(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return n=g()(this,(e=h()(t)).call.apply(e,[this].concat(i))),k()(b()(b()(n)),"state",{seen:!1}),k()(b()(b()(n)),"seen",function(){n.setState({seen:!0})}),n}return p()(t,e),u()(t,[{key:"render",value:function e(){var t=this,n=o()({},this.props);return delete n.loadingElement,this.state.seen||(void 0!==n.src&&delete n.src,void 0!==n.srcSet&&delete n.srcSet),delete n.threshold,this.state.seen?_.createElement("img",n):_.createElement(x.HasBeenVisible,{threshold:this.props.threshold,onVisible:this.seen},function(e){return t.props.loadingElement?t.props.loadingElement(e):_.createElement("img",i()({ref:e},n))})}}]),t}(_.Component);k()(w,"defaultProps",{srcSet:void 0,sizes:void 0,className:void 0,onLoad:void 0,threshold:200})},"./packages/media/image/image.jsx":function(e,t,n){"use strict";n.r(t);var a=n("@babel/runtime/helpers/esm/extends"),i=n.n(a),r=n("@babel/runtime/helpers/esm/classCallCheck"),o=n.n(r),l=n("@babel/runtime/helpers/esm/createClass"),s=n.n(l),c=n("@babel/runtime/helpers/esm/possibleConstructorReturn"),u=n.n(c),d=n("@babel/runtime/helpers/esm/getPrototypeOf"),g=n.n(d),m=n("@babel/runtime/helpers/esm/inherits"),h=n.n(m),f=n("@babel/runtime/helpers/esm/assertThisInitialized"),p=n.n(f),v=n("@babel/runtime/helpers/esm/defineProperty"),b=n.n(v),y=n("react"),k=n("@ta/common.classnames"),_=n.n(k),x=n("@ta/common.features"),w=n("@ta/common.is-visible"),I=n("@ta/common.logging"),S=n.n(I),E=function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=1.5;return"undefined"!=typeof window&&window.devicePixelRatio&&t&&(n=Math.min(window.devicePixelRatio,1.5)),n},C=function e(t,n,a,i){var r=i&&i.allowedStretch||.25,o=i&&i.pickImageBasedOnClientInfo||!0,l=E(o),s=n*l,c=t*l,u=s*c,d=a.filter(function(e){return e.width<=2560});if(0===d.length){var g=a.length>0&&(!a[0].width||!a[0].height);return S.a.error("ResponsiveImage: no suitable source found. sources.length ".concat(a.length," missingWidthHeight ").concat(g.toString())),{url:"",width:0,height:0}}var m=d.map(function(e){var t=(c-e.width)/e.width,n=(s-e.height)/e.height,a=Math.max(t,n),i=e.width*e.height;return{src:e,stretchRatio:a,wastedRatio:(i-u)/i}});m.sort(function(e,t){return e.wastedRatio-t.wastedRatio});var h=m.filter(function(e){return e.src.width*e.src.height<=4e4}).filter(function(e){return e.stretchRatio<=0});if(h.length>0){var f=h[0].src;return{url:f.url,width:f.width,height:f.height}}var p=m.filter(function(e){return e.stretchRatio<=r});if(p.length>0){var v=p[0].src;return{url:v.url,width:v.width,height:v.height}}m.sort(function(e,t){return e.stretchRatio-t.stretchRatio});var b=m[0].src;return{url:b.url,width:b.width,height:b.height}},R=function e(t,n){var a=Math.floor(t/n)*n,i=Math.ceil(t/n)*n,r=0===a?0:(t-a)/a;return 0===r||r>.25?i:a},z=function e(t,n,a,i,r){var o,l=E(i),s="",c=0,u=0;a.forEach(function(e){(!o||e.width>o.width)&&(o=e),e.url.indexOf("/photo-o/")>-1?(s=e.url,c=e.width,u=e.height):e.url.indexOf("/photo-m/")>-1&&(s=e.url.replace("/photo-m/1280/","/photo-o/"),c=e.width,u=e.height)}),""===s&&o&&(s=o.url,c=o.width,u=o.height);var d=R(t*l,50),g=R(n*l,50);d>c&&(d=c),g>u&&(g=u);var m=c/u,h=t/n;(Math.abs(m-h)/h<.1||"cover"!==r)&&(g=Math.ceil(d*u/c));var f="https://io-tacdn-com.global.ssl.fastly.net".concat(s.substring(s.indexOf("/media/")));return{url:"".concat(f,"?width=").concat(d,"&height=").concat(g,"&fit=crop&auto=webp"),width:d,height:g}},L=function(e){function t(){var e,n;o()(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return n=u()(this,(e=g()(t)).call.apply(e,[this].concat(i))),b()(p()(p()(n)),"state",{drawable:!!n.props.ssrContainerDimensions,pickImageBasedOnClientInfo:!1}),b()(p()(p()(n)),"getContainerSize",function(){var e=n.containerNode.current;if(!e||0===e.clientWidth||0===e.clientHeight||!n.state.pickImageBasedOnClientInfo){if(!n.props.ssrContainerDimensions)return null;e=n.props.ssrContainerDimensions}var t=e,a=t.clientWidth,i=t.clientHeight;return 0===i||0===a?null:{clientWidth:a,clientHeight:i}}),b()(p()(p()(n)),"containerNode",y.createRef()),b()(p()(p()(n)),"argCache",{sources:null,containerSize:null,result:null}),b()(p()(p()(n)),"pickImage",function(e){var t=n.getContainerSize();return n.cachedPickUrlFromContainerSize(e,t)}),b()(p()(p()(n)),"pickUrlFromContainerSize",function(e,t){if(!e||0===e.length||!t)return null;var a,i=t.clientWidth,r=t.clientHeight,o=n.state.pickImageBasedOnClientInfo;if(Object(x.featureIsEnabled)("media991_fastly_ondemand_resizing"))a=z(i,r,e,o,n.props.fitStrategy);else{var l={pickImageBasedOnClientInfo:o,allowedStretch:n.props.allowedStretch};a=C(i,r,e,l)}return"function"==typeof n.props.onImageChosen&&n.props.onImageChosen(a.url),a}),b()(p()(p()(n)),"cachedPickUrlFromContainerSize",function(e,t){var a=n.argCache.containerSize&&n.argCache.containerSize.clientWidth||-1,i=n.argCache.containerSize&&n.argCache.containerSize.clientHeight||-1,r=t&&t.clientWidth||0,o=t&&t.clientHeight||0;return n.argCache.sources===e&&t&&a>=r&&i>=o&&n.argCache.result?n.argCache.result:(n.argCache={result:n.pickUrlFromContainerSize(e,t),sources:e,containerSize:t},n.argCache.result)}),b()(p()(p()(n)),"drawable",function(){n.setState({drawable:!0})}),n}return h()(t,e),s()(t,[{key:"componentDidMount",value:function e(){this.setState({pickImageBasedOnClientInfo:!0})}},{key:"renderAltText",value:function e(){var t=this.props.alt;return t?y.createElement("span",{role:"img","aria-label":t}):null}},{key:"render",value:function e(){var t=this.state.drawable?this.pickImage(this.props.sources):null,n=t&&"string"==typeof t.url?'url("'.concat(t.url,'")'):"none",a=this.props,r=a.children,o=a.fitStrategy,l=a.height,s=a.width,c=a.padding,u=a.borderRadius,d=a.transform,g=a.opacity,m=a.threshold,h=a.backgroundColor,f=a.backgroundPosition,p=a.customFitStrategySelector,v=a.ssrContainerDimensions,k="cover";if("contain"===o||"cover"===o)k=o;else if("calculated"===o){var I=this.containerNode.current;!I&&v&&(I=v),I&&t&&"function"==typeof p&&(k=p(t.width,t.height,I.clientWidth,I.clientHeight))}var S,E={className:_()("media-image-ResponsiveImage__default--1s-9x",b()({},"media-image-ResponsiveImage__findResponsiveImage--PI9cG",Object(x.featureIsEnabled)("media_find_responsive_image"))),style:{height:l,width:s,padding:c,borderRadius:u,transform:d,opacity:g,backgroundImage:n,backgroundColor:h,backgroundPosition:f,backgroundSize:k}};S=this.state.drawable||this.props.notLazy?y.createElement("div",i()({ref:this.containerNode},E),this.renderAltText(),r):y.createElement(w.HasBeenVisible,{node:this.containerNode,threshold:m,onVisible:this.drawable},y.createElement("div",i()({ref:this.containerNode},E),this.renderAltText(),r));var C=this.props.preloadImage&&t?y.createElement("link",{rel:"preload",crossOrigin:!0,as:"image",type:"image/jpeg",href:t.url}):null;return y.createElement(y.Fragment,null,S,C)}}],[{key:"getDerivedStateFromProps",value:function e(t,n){return t.notLazy&&!n.drawable?{drawable:!0}:null}}]),t}(y.Component);b()(L,"defaultProps",{padding:void 0,borderRadius:void 0,threshold:200,fitStrategy:"cover",customFitStrategySelector:function e(t,n,a,i){if(0===i||0===a||0===n||0===t)return"cover";var r=t/n,o=a/i;if(0===r||0===o)return"cover";var l=r<o,s=l?r/o:o/r;if(s>.75)return"cover";var c=s/.75;return l?"".concat(100*c,"% auto"):"auto ".concat(100*c,"%")},preloadImage:!1});var P=n("./packages/media/image/LazyImage.jsx");n.d(t,"ResponsiveImage",function(){return L}),n.d(t,"pickSourceForSize",function(){return C}),n.d(t,"LazyImage",function(){return P.a})},"./packages/styleguide/avatar/index.jsx":function(e,t,n){"use strict";n.r(t);var a=n("react"),i=n("@ta/common.classnames"),r=n.n(i),o=n("react-redux"),l=n("@ta/common.routing"),s=n("./packages/styleguide/icon/Icon.jsx"),c=n("./packages/media/image/LazyImage.jsx"),u={avatar:"styleguide-avatar-Avatar__avatar--2NStU"},d={"xtra-small":24,small:32,default:42,large:72,"xtra-large":120},g={className:void 0,photo:void 0,icon:null,size:"default",tabletSize:void 0,desktopSize:void 0,widescreenSize:void 0,display:null,href:"",target:"_blank",mobileTarget:void 0,onClick:void 0,imgCdnUrl:"",alt:"",withBorder:!1,notLazy:!1},m=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",a=d[n],i=null;if(t&&t.photoSizes&&t.photoSizes.length>0){var r=t.photoSizes.find(function(e){return e.width>=a?e.url:null});i=r?r.url:t.photoSizes[t.photoSizes.length-1].url}return i},h=function e(t){var n=t.photoUrl,i=t.imgCdnUrl,r=t.icon,o=t.alt,l=t.notLazy;return a.createElement(a.Fragment,null,n?function e(t,n,i){return i?a.createElement("img",{src:t,alt:n}):a.createElement(c.a,{src:t,alt:n})}(function e(t,n){return 0===t.indexOf("http://")||0===t.indexOf("https://")?t:n?n+t:t}(n,i),o||"",l):a.createElement(s.a,{name:"member-fill"}),r&&a.createElement("div",{className:r}))},f=function e(t){return a.createElement(l.ResponsiveTargetLink,{className:t.className,href:t.href,target:t.target,mobileTarget:t.mobileTarget,onClick:t.onClick},a.createElement(h,{photoUrl:t.photoUrl,imgCdnUrl:t.imgCdnUrl,icon:t.icon,alt:t.alt,notLazy:t.notLazy}))};function p(e){var t=e.photo,n=e.photoUrl,i=e.imgCdnUrl,o=e.viewportCategory,l=e.icon,s=e.size,c=e.tabletSize,d=e.desktopSize,g=e.widescreenSize,p=e.display,v=e.href,b=e.onClick,y=e.alt,k=e.withBorder?"ui_social_avatar":"ui_avatar",_="default"!==e.size&&e.size,x=c?"".concat(c,"-tablet"):null,w=d?"".concat(d,"-desktop"):null,I=g?"".concat(g,"-widescreen"):null,S=r()(u.avatar,k,_,x,w,I,p,e.className),E=t?m(t,"DESKTOP"===o?d||c||s:"TABLET"===o&&c||s):n;return v?a.createElement(f,{photoUrl:E,imgCdnUrl:e.imgCdnUrl,icon:e.icon,href:e.href,target:e.target,mobileTarget:e.mobileTarget,onClick:e.onClick,alt:e.alt,className:S,withBorder:e.withBorder,notLazy:e.notLazy}):a.createElement("span",{className:S,onClick:b},a.createElement(h,{photoUrl:E,imgCdnUrl:i,icon:l,alt:y,notLazy:e.notLazy}))}f.defaultProps={photoUrl:null,icon:g.icon,className:g.className,href:g.href,target:g.target,onClick:g.onClick,imgCdnUrl:g.imgCdnUrl,alt:g.alt,withBorder:g.withBorder,mobileTarget:g.mobileTarget},h.defaultProps={photoUrl:f.defaultProps.photoUrl,imgCdnUrl:g.imgCdnUrl,icon:g.icon,alt:g.alt,notLazy:g.notLazy},p.defaultProps=g;var v=Object(o.connect)(function(e){return{imgCdnUrl:e.meta.imageCdnUrl,viewportCategory:e.meta.device.viewportCategory}})(p);n.d(t,"Avatar",function(){return v})},"./packages/styleguide/bubble-rating/index.jsx":function(e,t,n){"use strict";n.r(t);var a=n("react"),i=function e(t){var n=t.rating,i=t.verticalAlign,r=t.useAffiliateStars,o=function e(t){return 5*Math.round(2*t)}(n),l=o>=0&&o<=50?function e(t){return 5===t?"05":"".concat(t)}(o):"0",s=r?"ui_star_rating star_":"ui_bubble_rating bubble_";return a.createElement("span",{className:"".concat(s).concat(l),style:i&&{verticalAlign:i}})};i.defaultProps={verticalAlign:null,useAffiliateStars:!1};var r=i,o=n("@ta/common.i18n"),l=function e(t){return a.createElement("div",{className:"ui_poi_review_rating ".concat(t.hoverable?"styleguide-bubble-rating-BubbleRatingWithLabel__hoverable--2Md13":""),style:t.fontSize&&{fontSize:t.fontSize,lineHeight:1.29}},a.createElement(r,{rating:t.rating,verticalAlign:t.bubbleRatingVerticalAlign,useAffiliateStars:t.useAffiliateStars}),t.label)};l.defaultProps={fontSize:null,hoverable:!1,bubbleRatingVerticalAlign:null,useAffiliateStars:!1};var s=l,c=function e(t){var n="reviewCount ".concat("styleguide-bubble-rating-BubbleRatingWithReviewCount__reviewCount--37tMc");return t.dottedRatingUnderline&&(n+=" ".concat("styleguide-bubble-rating-BubbleRatingWithReviewCount__dottedUnderline--1oKfh")),a.createElement(s,{rating:t.rating,fontSize:t.fontSize,hoverable:t.bubbleRatingHoverable,bubbleRatingVerticalAlign:t.bubbleRatingVerticalAlign,useAffiliateStars:t.useAffiliateStars,label:a.createElement("span",{className:n,style:t.fontSize&&{fontSize:t.fontSize}},Object(o.localize)("mobile_reviews_plural",{0:o.globalize.formatNumber("integer",t.numReviews)}))})};c.defaultProps={fontSize:null,bubbleRatingHoverable:!1,dottedRatingUnderline:!1,bubbleRatingVerticalAlign:null,useAffiliateStars:!1};var u=c,d=n("@ta/common.routing"),g=function e(t){var n="reviewCount ".concat("styleguide-bubble-rating-BubbleRatingWithReviewCount__reviewCount--37tMc");return t.dottedRatingUnderline&&(n+=" ".concat("styleguide-bubble-rating-BubbleRatingWithReviewCount__dottedUnderline--1oKfh")),a.createElement(s,{rating:t.rating,useAffiliateStars:t.useAffiliateStars,label:a.createElement(d.Link,{href:t.url,onClick:t.onClick},a.createElement("span",{className:n,style:t.fontSize&&{fontSize:t.fontSize}},Object(o.localize)("mobile_reviews_plural",{0:o.globalize.formatNumber("integer",t.numReviews)})))})};g.defaultProps={fontSize:null,onClick:void 0,dottedRatingUnderline:!1,useAffiliateStars:!1};var m=g;n.d(t,"BubbleRating",function(){return r}),n.d(t,"BubbleRatingWithReviewCount",function(){return u}),n.d(t,"BubbleRatingWithLinkedReviewCount",function(){return m}),n.d(t,"BubbleRatingWithLabel",function(){return s})},"./packages/styleguide/button/Button.jsx":function(e,t,n){"use strict";n.r(t);var a=n("react"),i=n("@ta/common.classnames"),r=n.n(i),o=function e(t){var n=t.children,i=t.size,o=t.type,l=t.fullwidth,s=t.chevron,c=t.loading,u=t.disabled,d=t.onClick;return a.createElement("button",{className:r()("ui_button","none"!==o?o:"","default"!==i?i:"",{chevron:s,disabled:u,loading:c,fullwidth:l}),disabled:u,onClick:d},n)};o.defaultProps={children:null,onClick:function e(){},type:"original",size:"default",chevron:!1,loading:!1,disabled:!1,fullwidth:!1},t.default=o},"./packages/styleguide/icon/Icon.jsx":function(e,t,n){"use strict";var a=n("react"),i=function e(t){var n=t.name,i=t.className,r=t.children;return a.createElement("span",{className:"ui_icon ".concat(n," ").concat(i)},r)};i.defaultProps={className:"",children:void 0},t.a=i},"./packages/styleguide/icon/index.jsx":function(e,t,n){"use strict";n.r(t);var a=n("./packages/styleguide/icon/Icon.jsx"),i=n("@babel/runtime/helpers/esm/defineProperty"),r=n.n(i),o=n("react"),l=n("@ta/common.classnames"),s=n.n(l),c=function e(t){var n=t.innerIcon,i=t.outerIcon,l=t.hover,c=t.active;return o.createElement("span",{className:s()("ui_icon_stacked","styleguide-icon-IconStacked__ui_icon_stacked--3-Z0a",r()({},"styleguide-icon-IconStacked__hover--1H_k_",l))},o.createElement("span",{className:"styleguide-icon-IconStacked__ui_icon_stacked_inner--1Q9Mh"},o.createElement(a.a,{name:n,className:s()("stacked","styleguide-icon-IconStacked__innerIcon--HUV1T",r()({},"styleguide-icon-IconStacked__active--3zJoA",c))}),o.createElement(a.a,{name:i,className:s()("stacked","styleguide-icon-IconStacked__outerIcon--7s7FA")})))};c.defaultProps={hover:!1,active:!1};var u=c,d=function e(t){var n=t.name,a=t.className;return o.createElement("span",{className:"t4b_ui_icon ".concat(n," ").concat(a)})};d.defaultProps={className:""};var g=d;n.d(t,"Icon",function(){return a.a}),n.d(t,"IconStacked",function(){return u}),n.d(t,"T4BIcon",function(){return g})},"./packages/styleguide/loading/index.jsx":function(e,t,n){"use strict";n.r(t);var a=n("react"),i={loadingBar:"styleguide-loading-LoadingBar__loadingBar--3d3LK",infinite:"styleguide-loading-LoadingBar__infinite--3vw-S",loading:"styleguide-loading-LoadingBar__loading--39ZY9",percentBar:"styleguide-loading-LoadingBar__percentBar--2L6I6"},r=function e(t){var n=t.visible,r=t.topDistance,o=t.transitionDuration,l=t.infinite,s=t.percent,c=t.zIndex;return a.createElement("div",{className:[i.loadingBar,l?i.infinite:""].join(" "),style:{display:n?"block":"none",top:r,transitionDuration:o,zIndex:c}},a.createElement("div",{className:i.percentBar,style:{width:"".concat(s,"%"),display:s>0?"block":"none"}}))};r.defaultProps={infinite:!1,percent:0,topDistance:0,transitionDuration:"500ms",visible:!0,zIndex:"auto"};var o=r,l=function e(t){var n=t.size,i=t.color;return a.createElement("span",{className:"ui_loader ".concat(n||""," ").concat(i||"")},a.createElement("span",null),a.createElement("span",null),a.createElement("span",null),a.createElement("span",null),a.createElement("span",null))};l.defaultProps={size:void 0,color:void 0};var s=l,c=function e(t){var n=t.size,i=t.inverted;return a.createElement("div",{className:"ui_spinner ".concat(n||""," ").concat(i?"inverted":"")})};c.defaultProps={size:void 0,inverted:!1};var u=c;n.d(t,"LoadingBar",function(){return o}),n.d(t,"LoadingBubbles",function(){return s}),n.d(t,"LoadingSpinner",function(){return u})},"527f7":function(e,t,n){e.exports=n}}});
//# sourceMappingURL=ta-common.b7c188fac5.js.map