(window.$WP=window.$WP||[]).push({id:"@ta/public.location-hours",d:["vendor-babel","vendor-react-libs","ta-platform","@ta/overlays.modal","@ta/overlays.popover","@ta/overlays.managers","@ta/overlays.headers"],e:["./packages/public/location-hours/LocationHours.jsx"],x:{"./packages/public/location-hours/LocationHours.jsx":["LocationHours","default"]},m:{"./packages/public/location-hours/LocationHours.jsx":function(e,o,a){"use strict";a.r(o);var t=a("@babel/runtime/helpers/esm/defineProperty"),n=a.n(t),r=a("@babel/runtime/helpers/esm/extends"),c=a.n(r),l=a("react"),s=a("@ta/common.api"),u=a("@ta/common.i18n"),i=a("@ta/overlays.modal"),m=a("@ta/overlays.popover"),p=a.n(m),d=a("@ta/overlays.managers"),h=a("@ta/overlays.headers"),_=a("@ta/common.tracking"),b=function e(o){var a=o.hours.map(function(e){return l.createElement("div",{className:"".concat("public-location-hours-AllHoursList__container--2BIWN"," ui_columns is-mobile"),key:e.days},l.createElement("div",{className:"".concat("public-location-hours-AllHoursList__daysAndTimesRow--2CcRX"," ui_column is-5")},e.days),l.createElement("div",{className:"".concat("public-location-hours-AllHoursList__daysAndTimesRow--2CcRX"," ui_column is-7")},e.times.map(function(e){return l.createElement("div",{key:e},e)})))});return l.createElement("div",{className:"all-open-hours"},a)};a.d(o,"LocationHours",function(){return N});var v={OPEN:"public-location-hours-LocationHours__green--2VoIr",OPENING:"public-location-hours-LocationHours__gray--2jBxI",CLOSED:"public-location-hours-LocationHours__red--45IHz",CLOSING:"public-location-hours-LocationHours__red--45IHz"},H=function e(o){return l.createElement("div",{onClick:"nopopover"===o.displayMode?null:o.onClick,className:"".concat("public-location-hours-LocationHours__hoursOpenerContainer---ULd_"," ui_link")},l.createElement("span",{className:"public-location-hours-LocationHours__hoursOpenerText--42y6t"},l.createElement("span",{className:"".concat("public-location-hours-LocationHours__bold--2oLr-"," ").concat(v[o.hoursData.openStatus])},o.hoursData.openStatusText,":"),l.createElement("span",null,o.hoursData.currentHoursText||Object(u.localize)("see_all_hours")),l.createElement("span",{className:"".concat("public-location-hours-LocationHours__hoursOpenerInfo--3GSeP"," ui_icon information-circle")})))},E=function e(o){return l.createElement("div",{onClick:o.onClick,className:"".concat("public-location-hours-LocationHours__hoursOpenerContainer---ULd_"," ui_link")},l.createElement("span",{className:"".concat("public-location-hours-LocationHours__hoursOpenerIcon--1HUub"," ui_icon clock")}),l.createElement("span",{className:"public-location-hours-LocationHours__hoursOpenerText--42y6t"},l.createElement("span",{className:"public-location-hours-LocationHours__bold--2oLr-"},o.hoursData.openStatusText,":"),l.createElement("span",null,o.hoursData.currentHoursText||Object(u.localize)("see_all_hours")),l.createElement("span",{className:"".concat("public-location-hours-LocationHours__hoursOpenerInfo--3GSeP"," ui_icon information-circle")})))},L=function e(o){return l.createElement("div",null,l.createElement("div",{className:"".concat("public-location-hours-LocationHours__bold--2oLr-"," ").concat(v[o.hoursData.openStatus])},o.hoursData.openStatusText),l.createElement("div",null,o.hoursData.hoursTodayText),l.createElement("div",{onClick:o.onClick,className:"public-location-hours-LocationHours__hoursLink--2wAQh"},Object(u.localize)("see_all_hours")))},N=function e(o){if(!o.hoursData)return null;var a=o.hoursData.allOpenHours&&o.hoursData.allOpenHours.length>0;return"MOBILE"===o.viewportCategory?a?l.createElement(k,o):null:a?l.createElement(y,o):o.hoursData.addHoursLink&&o.hoursData.addHoursLink.url&&o.hoursData.addHoursLink.text?l.createElement("div",{className:"public-location-hours-LocationHours__hoursOpenerContainer---ULd_"},l.createElement("a",{href:o.hoursData.addHoursLink.url,className:"ui_link"},"compact"===o.displayMode&&l.createElement("span",{className:"".concat("public-location-hours-LocationHours__hoursOpenerIcon--1HUub"," ui_icon clock")}),l.createElement("span",{className:"public-location-hours-LocationHours__hoursOpenerText--42y6t"},o.hoursData.addHoursLink.text))):null};N.defaultProps={displayMode:"compact",popoverPosition:"below"};var k=function e(o){var a=o.locationId;return l.createElement(l.Fragment,null,l.createElement(_.ClickTracker,{module:o.servlet,action:"openhours_click",context:a,once:!1},l.createElement(d.Opener,{name:"business-hours-mobile"},function(e){return"compact"===o.displayMode?l.createElement(H,c()({onClick:e},o)):"full"===o.displayMode?l.createElement(L,c()({onClick:e},o)):null})),l.createElement(i.Modal,{name:"business-hours-mobile",header:l.createElement(h.TitleBar,{displayType:"LEFT_ALIGN_GRAY"},Object(u.localize)("restaurants_view_all_hours"))},l.createElement("div",{className:"public-location-hours-LocationHours__hoursModalContainer--2rYhZ"},l.createElement("div",{className:"public-location-hours-LocationHours__hoursModalHeaderRegion--1oKYb"},l.createElement("div",{className:"ui_header h1 ".concat("public-location-hours-LocationHours__hoursModalHeader--1b5Vg")},o.locationName),l.createElement("div",{className:"".concat("public-location-hours-LocationHours__hoursModalSubHeader--n4rT6"," ").concat(v[o.hoursData.openStatus])},o.hoursData.openStatusText)),l.createElement(b,{hours:o.hoursData.allOpenHours}))))},y=function e(o){var a,t=(a={},n()(a,o.popoverPosition,!0),n()(a,"alignEdge",["above","below"].includes(o.popoverPosition)?"left":void 0),a),r=o.locationId;return l.createElement(_.ClickTracker,{module:o.servlet,action:"openhours_click",context:r,once:!1},l.createElement(p.a,c()({},t,{contents:function e(){return l.createElement("div",{className:"public-location-hours-LocationHours__hoursPopover--2h1HP"},l.createElement("div",{className:"public-location-hours-LocationHours__hoursPopoverHeaderRegion--2anWL"},l.createElement("span",{className:"ui_header h3"},Object(u.localize)("restaurants_view_all_hours"))),l.createElement(b,{hours:o.hoursData.allOpenHours}))}}),function(e,a){return l.createElement("div",{ref:e},"compact"===o.displayMode&&l.createElement(E,c()({onClick:a},o)),"full"===o.displayMode&&l.createElement(L,c()({onClick:a},o)))}))};o.default=Object(s.bind)(function(e,o){var a=e.page.detailId,t=o("/data/1.0/location/".concat(a)),n=e.meta.initialServletName,r={openStatus:"OPEN",openStatusText:"",hoursTodayText:"",currentHoursText:"",allOpenHours:[],addHoursLink:{url:"",text:""}},c=o("/data/1.0/location/".concat(e.page.detailId,"/hours"));return function(){var o=t.get().data;return{viewportCategory:e.meta.device.viewportCategory,locationName:o&&o.name||"",servlet:n||"",locationId:a,hoursData:c.get().data||r}}})(N)}}});
//# sourceMappingURL=public.location-hours.b32ee3dc37.js.map