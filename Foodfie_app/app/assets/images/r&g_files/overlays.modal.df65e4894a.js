(window.$WP=window.$WP||[]).push({id:"@ta/overlays.modal",d:["vendor-babel","vendor-react-libs","@ta/overlays.managers","ta-platform","@ta/events.keyboard-event-listener","@ta/overlays.fullscreen-overlay","@ta/overlays.pieces","@ta/common.client"],e:["./packages/overlays/modal/index.jsx"],x:{"./packages/overlays/modal/Modal.jsx":["a"],"./packages/overlays/modal/ModalView.jsx":["a"],"./packages/overlays/modal/index.jsx":["Modal","ModalView","ViewportRelativeModal","DeprecatedRoutedModal","DeprecatedModalLink","RoutedModal"]},m:{"./packages/overlays/modal/Modal.jsx":function(e,a,o){"use strict";var n=o("@babel/runtime/helpers/esm/extends"),t=o.n(n),r=o("@babel/runtime/helpers/esm/objectWithoutProperties"),l=o.n(r),s=o("react"),i=o("@ta/overlays.managers"),c=o("./packages/overlays/modal/ModalView.jsx");a.a=function e(a){var o=a.name,n=a.onClose,r=l()(a,["name","onClose"]);return s.createElement(i.Closer,null,function(e){return s.createElement(i.Global,{name:o},s.createElement(c.a,t()({onClose:function a(){e(),n&&n()}},r)))})}},"./packages/overlays/modal/ModalView.jsx":function(e,a,o){"use strict";var n=o("@babel/runtime/helpers/esm/extends"),t=o.n(n),r=o("@babel/runtime/helpers/esm/defineProperty"),l=o.n(r),s=o("@babel/runtime/helpers/esm/objectSpread"),i=o.n(s),c=o("react"),u=o("react-redux"),d=o("@ta/common.classnames"),p=o.n(d),m=o("@ta/events.keyboard-event-listener"),v=o.n(m),h=o("@ta/overlays.fullscreen-overlay"),f=o.n(h),y=o("@ta/overlays.pieces"),b=function e(a){var o,n,r=i()({position:"fixed",top:a.overlayTop?"".concat(a.overlayTop,"px"):"50%",left:"50%",transform:a.overlayTop?"translate(-50%)":"translate(-50%, -50%)"},a.fixedHeight||a.buggyMode?{height:"calc(100% - 4rem)"}:{}),s=i()({position:"fixed",top:a.overlayTop?"".concat(a.overlayTop,"px"):"auto",left:"50%",bottom:"0",transform:"translate(-50%)"},a.fixedHeight||a.buggyMode?{height:"calc(100% - 4rem)"}:{}),u={position:a.alignToBottom?s:r},d=function e(){a.onClose&&a.onClose()},m=p()("overlays-modal-ModalView__container--ApzbE",(o={},l()(o,"overlays-modal-ModalView__bodyScrollDisabled--1uF4_",!a.bodyScroll),l()(o,"overlays-modal-ModalView__overflowVisible--11wyM",a.overflowVisible),l()(o,"overlays-modal-ModalView__fullscreen--2ZQrO",a.fullscreen),o)),h=p()("overlays-modal-ModalView__bodyContent--1NwQs",(n={},l()(n,"overlays-modal-ModalView__fullBleed--3v73B",a.isFullBleed),l()(n,"overlays-modal-ModalView__noBodyPadding--3t-0H",a.noBodyPadding),n)),b={};a.onDragOver&&(b.onDragOver=a.onDragOver),a.onDragLeave&&(b.onDragLeave=a.onDragLeave),a.onDrop&&(b.onDrop=a.onDrop);var g=a.isNativeWebview,w=a.marginTop,E=null;g&&w&&(E={marginTop:w});var M=c.createElement("div",{className:m},g?null:a.header,c.createElement("div",t()({className:h},b,{style:E}),a.children),a.closeX&&c.createElement(y.CloseX,{close:d,colorVariant:a.closeXColorVariant}));return a.fullscreen?c.createElement(c.Fragment,null,c.createElement(f.a,null,M),c.createElement(v.a,{keyName:"Escape",callback:d})):c.createElement(c.Fragment,null,c.createElement(y.BlockScroll,null),c.createElement(y.Backdrop,{close:d},c.createElement(y.Overlay,u,M),c.createElement(v.a,{keyName:"Escape",callback:d})))};b.defaultProps={fullscreen:!1,isFullBleed:!1,header:null,bodyScroll:!0,overflowVisible:!1,onClose:void 0,onDragOver:void 0,onDragLeave:void 0,onDrop:void 0,fixedHeight:!1,closeX:!0,closeXColorVariant:"TA_GREEN",isNativeWebview:!1,marginTop:void 0,overlayTop:void 0,alignToBottom:!1,noBodyPadding:!1};var g=[9,10],w=[9,10],E=Object(u.connect)(function(e,a){return i()({},a,{fullscreen:a.fullscreenAlways||!a.disableFullscreenOnMobile&&"MOBILE"===e.meta.device.viewportCategory,buggyMode:"SAFARI"===e.meta.device.browser.family&&g.includes(e.meta.device.browser.majorVersion)||"IOS"===e.meta.device.os.family&&w.includes(e.meta.device.os.majorVersion)})})(b);a.a=E},"./packages/overlays/modal/index.jsx":function(e,a,o){"use strict";o.r(a);var n=o("./packages/overlays/modal/Modal.jsx"),t=o("./packages/overlays/modal/ModalView.jsx"),r=o("@babel/runtime/helpers/esm/objectWithoutProperties"),l=o.n(r),s=o("react"),i=function e(a){var o=a.vh,t=a.vw,r=l()(a,["vh","vw"]);return s.createElement(n.a,r,s.createElement("div",{style:{height:"".concat(o,"vh"),width:"".concat(t,"vw")}},a.children))};i.defaultProps={vh:70,vw:80};var c=i,u=o("@babel/runtime/helpers/esm/extends"),d=o.n(u),p=o("@babel/runtime/helpers/esm/objectSpread"),m=o.n(p),v=o("@babel/runtime/helpers/esm/classCallCheck"),h=o.n(v),f=o("@babel/runtime/helpers/esm/createClass"),y=o.n(f),b=o("@babel/runtime/helpers/esm/possibleConstructorReturn"),g=o.n(b),w=o("@babel/runtime/helpers/esm/getPrototypeOf"),E=o.n(w),M=o("@babel/runtime/helpers/esm/inherits"),k=o.n(M),C=o("@babel/runtime/helpers/esm/assertThisInitialized"),x=o.n(C),O=o("@babel/runtime/helpers/esm/defineProperty"),V=o.n(O),D=o("@ta/common.routing"),j=o("@ta/overlays.managers"),R=function(e){function a(){var e,o;h()(this,a);for(var n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];return o=g()(this,(e=E()(a)).call.apply(e,[this].concat(t))),V()(x()(x()(o)),"resetRoute",function(e){var a=o.props.route,n=a.modal,t=l()(a,["modal"]);n===o.props.name&&o.props.navigate(t,{reset:e})}),V()(x()(x()(o)),"updateRoute",function(){o.props.route.modal!==o.props.name&&o.props.navigate(m()({},o.props.route,{modal:o.props.name}))}),o}return k()(a,e),y()(a,[{key:"componentDidMount",value:function e(){this.props.route.modal!==this.props.name||this.props.isOpen||this.props.open()}},{key:"componentDidUpdate",value:function e(a){!a.isOpen&&this.props.isOpen?this.updateRoute():a.isOpen&&!this.props.isOpen?this.resetRoute(!0):this.props.route.modal!==this.props.name&&this.props.isOpen&&this.props.close()}},{key:"componentWillUnmount",value:function e(){this.props.isOpen&&this.props.close()}},{key:"render",value:function e(){var a=this.props,o=(a.children,a.route,a.navigate,a.open,a.isOpen,a.close,l()(a,["children","route","navigate","open","isOpen","close"]));return s.createElement(n.a,o,this.props.children)}}]),a}(s.Component),_=function e(a){var o=a.name,n=a.username,t=a.onClick,r=l()(a,["name","username","onClick"]);return s.createElement(j.Opener,{name:o},function(e){return s.createElement(D.RouteConsumer,null,function(a){var l=a.route;return s.createElement(D.Link,d()({to:m()({},l,{modal:o,username:n}),onClick:function a(o){e(),t&&t(o)}},r))})})};_.defaultProps={children:null,className:"",activeClassName:"",title:void 0};var P=function e(a){var o=a.children,n=l()(a,["children"]);return s.createElement(j.Opener,{name:n.name},function(e,a){return s.createElement(j.Closer,null,function(t){return s.createElement(D.RouteConsumer,null,function(r){var l=r.route,i=r.navigate;return s.createElement(R,d()({},n,{route:l,navigate:i,open:e,isOpen:a,close:t}),o)})})})},T=o("@ta/common.client"),B=function(e){function a(){var e,o;h()(this,a);for(var n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];return o=g()(this,(e=E()(a)).call.apply(e,[this].concat(t))),V()(x()(x()(o)),"closeModal",function(){var e,a,n=o.props,t=n.path,r=n.navigate,l=n.route,s=n.onClose;if(null===(e=window)||void 0===e?void 0:null===(a=e.history)||void 0===a?void 0:a.state)r(l,{reset:!0});else{var i=m()({},l);Object.keys(t).forEach(function(e){delete i[e]}),r(i)}s&&s()}),o}return k()(a,e),y()(a,[{key:"render",value:function e(){var a=this.props,o=a.path,n=(a.route,a.navigate,a.onClose,l()(a,["path","route","navigate","onClose"]));return s.createElement(D.Match,o,s.createElement(t.a,d()({onClose:this.closeModal},n)))}}]),a}(s.Component),N=function e(a){var o=a.path,n=l()(a,["path"]);return s.createElement(D.RouteConsumer,null,function(e){var a=e.route,t=e.navigate;return s.createElement(T.ClientOnly,null,s.createElement(B,d()({},n,{path:o,route:a,navigate:t})))})};o.d(a,"Modal",function(){return n.a}),o.d(a,"ModalView",function(){return t.a}),o.d(a,"ViewportRelativeModal",function(){return c}),o.d(a,"DeprecatedRoutedModal",function(){return P}),o.d(a,"DeprecatedModalLink",function(){return _}),o.d(a,"RoutedModal",function(){return N})}}});
//# sourceMappingURL=overlays.modal.df65e4894a.js.map