(window.$WP=window.$WP||[]).push({id:"restaurants.details-card",d:["vendor-react-libs","ta-platform","@ta/social.mentions-data-provider","@ta/social.skeletons","@ta/restaurants.detail-overview-cards","@ta/restaurants.claimed-badge","@ta/common.grid","@ta/overlays.managers","@ta/overlays.headers","@ta/overlays.modal"],e:["./roots/restaurants/details-card/DetailsCard.jsx"],x:{"./roots/restaurants/details-card/DetailsCard.jsx":["default"]},m:{"./roots/restaurants/details-card/DetailsCard.jsx":function(e,t,a){"use strict";a.r(t);var r=a("react"),i=a("@ta/common.api"),s=a("@ta/common.i18n"),n=a("@ta/common.features"),l=a("@ta/common.routing"),o=a("@ta/social.mentions-data-provider"),c=a("@ta/social.skeletons"),g=a("@ta/restaurants.detail-overview-cards"),u=a("@ta/restaurants.claimed-badge"),m=a.n(u),d=a("@ta/common.grid"),v=a("@ta/overlays.managers"),C=a("@ta/overlays.headers"),p=a("@ta/overlays.modal"),E=function e(t){return t.tagText&&t.tagCategory&&r.createElement("div",null,r.createElement("div",{className:"restaurants-details-card-TagCategories__categoryTitle--28rB6"},t.tagCategory),r.createElement("div",{className:"restaurants-details-card-TagCategories__tagText--Yt3iG"},t.tagText))};function _(e){return e.tags.map(function(e){return e.tagValue}).join(", ")}E.defaultProps={tagText:"",tagCategory:""};var b=function e(t){return r.createElement("div",{className:"ui_column ".concat("restaurants-details-card-TagCategories__singleColumnLayout--3UV3e")},t.categories)},y=function e(t){return r.createElement(r.Fragment,null,t.numCategories>0&&r.createElement(d.Column,null,t.numCategories>0&&t.categories.shift(),t.numCategories>2&&t.categories.shift(),t.numCategories>4&&t.categories.shift()),t.numCategories>1&&r.createElement(d.Column,null,t.numCategories>1&&t.categories.shift(),t.numCategories>3&&t.categories.shift()))},T=function e(t){return r.createElement(r.Fragment,null,t.numCategories>0&&r.createElement(d.Column,null,t.numCategories>0&&t.categories.shift(),t.numCategories>3&&t.categories.shift()),t.numCategories>1&&r.createElement(d.Column,null,t.numCategories>1&&t.categories.shift(),t.numCategories>4&&t.categories.shift()),t.numCategories>2&&r.createElement(d.Column,null,t.numCategories>2&&t.categories.shift()))},h=function e(t){var a=r.createElement(E,{tagCategory:Object(s.localize)("price_range_caps"),tagText:t.numericalPrice,key:"priceRange"}),i=r.createElement(E,{tagCategory:Object(s.localize)("restaurant_special_diets"),tagText:_(t.tagTexts.dietaryRestrictions),key:"specialDiets"}),n=r.createElement(E,{tagCategory:Object(s.localize)("Mobile_Meals"),tagText:_(t.tagTexts.meals),key:"meals"}),l=r.createElement(E,{tagCategory:Object(s.localize)("restaurant_rr_caps_cuisines"),tagText:_(t.tagTexts.cuisines),key:"cuisines"}),o=r.createElement(E,{tagCategory:Object(s.localize)("rs_sales_lander2_features"),tagText:_(t.tagTexts.features),key:"features"}),c=[];""!==t.numericalPrice&&c.push(a),t.tagTexts.dietaryRestrictions.tags&&t.tagTexts.dietaryRestrictions.tags.length>0&&c.push(i),t.tagTexts.meals.tags.length>0&&c.push(n),t.tagTexts.cuisines.tags.length>0&&c.push(l),t.tagTexts.features.tags.length>0&&c.push(o);var g=c.length;return"DESKTOP"===t.viewportCategory?t.about?r.createElement(r.Fragment,null,r.createElement(y,{numCategories:g,categories:c})):r.createElement(r.Fragment,null,r.createElement(T,{numCategories:g,categories:c})):"TABLET"!==t.viewportCategory||t.about?r.createElement(r.Fragment,null,r.createElement(b,{categories:c})):r.createElement(r.Fragment,null,r.createElement(y,{numCategories:g,categories:c}))},f=function e(t){return r.createElement("div",{className:"restaurants-details-card-DesktopView__desktopAboutSection--3w3Vo"},r.createElement("div",{className:"restaurants-details-card-DesktopView__desktopAboutTitle--3WOu5"},Object(s.localize)("ar_btf_about_header"))," ",r.createElement("div",{className:"restaurants-details-card-DesktopView__desktopAboutText--1VvQH"},t.about,t.about.length>=700&&r.createElement("span",null,"â€¦")))},w=function e(t){var a="";if(t.about.length<=700)a=t.about;else{for(var i=700;i<t.about.length&&" "!==t.about.charAt(i-1);)i++;a=t.about.substring(0,i-1)}var n=Object(g.getTagList)(t.tagTexts,t.numericalPrice);return r.createElement("div",null,r.createElement(d.Columns,null,t.about&&r.createElement(d.Column,null,r.createElement(f,{about:a})),r.createElement(h,t)),a.length<t.about.length&&r.createElement("div",null,r.createElement(v.Opener,{name:"detail-card"},function(e){return r.createElement("div",null,r.createElement("a",{className:"restaurants-details-card-DesktopView__viewDetails--1mp65",onClick:e},Object(s.localize)("restaurants_view_all_details")))}),r.createElement(p.Modal,{name:"detail-card",header:r.createElement(C.TitleBar,{displayType:"LEFT_ALIGN_GRAY"},Object(s.localize)("details_section_header"))},r.createElement("div",null,r.createElement(g.DetailsModal,{categories:n,about:t.about,improveListingUrl:t.improveListingUrl,viewportCategory:t.viewportCategory})))))};t.default=Object(i.bind)(function(e,t){var a=t("/data/1.0/location/".concat(e.page.detailId)),r=t("/data/1.0/restaurant/".concat(e.page.detailId,"/overview"));m.a.stage(e,t),g.DetailsSectionOverviewActionChoices.stage(e,t);var i={priceRange:{tagCategoryId:-1,tags:[]},dietaryRestrictions:{tagCategoryId:-1,tags:[]},meals:{tagCategoryId:-1,tags:[]},cuisines:{tagCategoryId:-1,tags:[]},features:{tagCategoryId:-1,tags:[]},establishmentType:{tagCategoryId:-1,tags:[]}};return function(){var t=a.get().data,s=r.get().data;return{viewportCategory:e.meta.device.viewportCategory,about:t&&t.description||"",tagTexts:s&&s.detailCard.tagTexts||i,improveListingUrl:s&&s.detailCard.improveListingUrl||"",numericalPrice:s&&s.detailCard.numericalPrice||"",noSnippets:s&&s.tags.reviewSnippetSections||!1,language:e.i18n.locale&&e.i18n.locale.split("_")[0]}}})(function e(t){var a=Object(l.useLocationDetail)();return r.createElement(o.SocialContentDataProvider,{locationId:a,limit:20,objectTypes:["LINK_POST","TRIP"],skip:!Object(n.featureIsEnabled)("social_mentions_above_the_fold")},function(e){var a=e.loading,i=e.content;return a?r.createElement(c.SuggestedFolloweesLoadingSkeleton,null):(t.noSnippets||i.length>=1)&&"en"===t.language&&!function n(e,t,a){return!(e.cuisines.tags.length>0||e.dietaryRestrictions.tags.length>0||e.meals.tags.length>0||e.features.tags.length>0||""!==t||""!==a)}(t.tagTexts,t.about,t.numericalPrice)&&r.createElement("div",{className:"restaurants-details-card-DetailsCard__cardBackground--2tGEZ","data-tab":"TABS_DETAILS"},r.createElement("div",{className:"restaurants-details-card-DetailsCard__wrapperDiv--vS1lQ"},r.createElement("div",{className:"restaurants-details-card-DetailsCard__innerDiv--1Imq5"},"MOBILE"===t.viewportCategory?r.createElement("div",null,r.createElement(g.DetailsSectionOverviewCard,{tagTexts:t.tagTexts,about:t.about,numericalPrice:t.numericalPrice,improveListingUrl:t.improveListingUrl,viewportCategory:t.viewportCategory})):r.createElement(r.Fragment,null,r.createElement("div",{className:"restaurants-details-card-DetailsCard__detailsHeader--19Oql"},r.createElement("h2",{className:"restaurants-details-card-DetailsCard__detailsTitle--3Ji4g"},Object(s.localize)("details_section_header")),r.createElement("div",null,r.createElement(g.DetailsSectionOverviewActionChoices,{improveListingUrl:t.improveListingUrl}))),r.createElement(w,{viewportCategory:t.viewportCategory,about:t.about,tagTexts:t.tagTexts,numericalPrice:t.numericalPrice,improveListingUrl:t.improveListingUrl})))))})})}}});
//# sourceMappingURL=restaurants.details-card.7903fee31d.js.map